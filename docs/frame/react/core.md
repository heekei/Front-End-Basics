# 现代框架的分类与解析

## 前端框架的实现原理

现代框架的实现原理基本上可以概括为：

```
UI = f(state)
```

- state：当前视图状态
- f：框架内部运行机制
- UI：宿主环境的视图

这个公式可以解释为：框架内部运行机制根据当前状态渲染视图。

框架内部运行机制 f 的工作原理分为两步：

1. 根据自变量（state）变化计算出 UI 变化；
2. 根据 UI 变化执行具体的宿主环境 API；

## 现代框架的分类标准

从 f 的工作原理来看，第二步，在浏览器环境中，“UI 的增删改查”是通过 DOM API 实现的，这一步骤，不同前端框架的实现基本一致，不能作为框架分类依据。

不同框架的差异主要体现在步骤 1 的实现上。

一般规律可以总结为：前端框架需要关注“自变量与 X 的对应关系”。随着 X 抽象层级不断下降，“自变量到 UI 变化”的路径增多。路径越多，意味着前端框架在运行时消耗在寻找“自变量与 UI 的对应关系”上的时间越少。

前端框架中“与自变量建立对应关系的抽象层级”可以作为其分类依据，按照这个标准，前端框架可以分为以下三类：

应用级框架：自变量与应用的对应关系，例如 React
组件级框架：自变量与组件的对应关系，例如 Vue
元素级框架：自变量与 UI（元素） 的对应关系，例如 Svelte 与 Solid.js
