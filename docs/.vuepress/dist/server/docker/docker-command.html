<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Docker 命令 | Front-End-Basics</title>
    <meta name="generator" content="VuePress 1.9.10">
    
    <meta name="description" content="陈方旭的个人文档">
    
    <link rel="preload" href="/assets/css/0.styles.8f3dca9f.css" as="style"><link rel="preload" href="/assets/js/app.f0c3bf6e.js" as="script"><link rel="preload" href="/assets/js/2.267df354.js" as="script"><link rel="preload" href="/assets/js/1.66cc43cf.js" as="script"><link rel="preload" href="/assets/js/244.ed576d71.js" as="script"><link rel="prefetch" href="/assets/js/10.8ed5e327.js"><link rel="prefetch" href="/assets/js/100.ae5b3443.js"><link rel="prefetch" href="/assets/js/101.cc73b0f5.js"><link rel="prefetch" href="/assets/js/102.3f3114fb.js"><link rel="prefetch" href="/assets/js/103.8ff5fdac.js"><link rel="prefetch" href="/assets/js/104.b5debdc3.js"><link rel="prefetch" href="/assets/js/105.8da11418.js"><link rel="prefetch" href="/assets/js/106.4dbe9edc.js"><link rel="prefetch" href="/assets/js/107.181bae05.js"><link rel="prefetch" href="/assets/js/108.89a63e22.js"><link rel="prefetch" href="/assets/js/109.ce54155a.js"><link rel="prefetch" href="/assets/js/11.066e1c25.js"><link rel="prefetch" href="/assets/js/110.f2e608ea.js"><link rel="prefetch" href="/assets/js/111.42921b66.js"><link rel="prefetch" href="/assets/js/112.8da31ceb.js"><link rel="prefetch" href="/assets/js/113.5ac3f0d4.js"><link rel="prefetch" href="/assets/js/114.e056e614.js"><link rel="prefetch" href="/assets/js/115.cebf7fde.js"><link rel="prefetch" href="/assets/js/116.2b434a84.js"><link rel="prefetch" href="/assets/js/117.100c132f.js"><link rel="prefetch" href="/assets/js/118.a4afed9a.js"><link rel="prefetch" href="/assets/js/119.f0f1a25d.js"><link rel="prefetch" href="/assets/js/12.9fe465cb.js"><link rel="prefetch" href="/assets/js/120.376850c5.js"><link rel="prefetch" href="/assets/js/121.5dc1a6a2.js"><link rel="prefetch" href="/assets/js/122.363693fb.js"><link rel="prefetch" href="/assets/js/123.7258fb95.js"><link rel="prefetch" href="/assets/js/124.a4bd3167.js"><link rel="prefetch" href="/assets/js/125.8aa8db7c.js"><link rel="prefetch" href="/assets/js/126.2caa71e3.js"><link rel="prefetch" href="/assets/js/127.220486dd.js"><link rel="prefetch" href="/assets/js/128.b01fb70e.js"><link rel="prefetch" href="/assets/js/129.bd8c1b32.js"><link rel="prefetch" href="/assets/js/13.ceec992d.js"><link rel="prefetch" href="/assets/js/130.9b3fd30c.js"><link rel="prefetch" href="/assets/js/131.c1e91c2d.js"><link rel="prefetch" href="/assets/js/132.6d39b36b.js"><link rel="prefetch" href="/assets/js/133.cc4ee14d.js"><link rel="prefetch" href="/assets/js/134.3b031de3.js"><link rel="prefetch" href="/assets/js/135.329aa943.js"><link rel="prefetch" href="/assets/js/136.e97d2b91.js"><link rel="prefetch" href="/assets/js/137.70ad5edc.js"><link rel="prefetch" href="/assets/js/138.b2388813.js"><link rel="prefetch" href="/assets/js/139.260e94e8.js"><link rel="prefetch" href="/assets/js/14.6b9e2f92.js"><link rel="prefetch" href="/assets/js/140.d0752482.js"><link rel="prefetch" href="/assets/js/141.c3809389.js"><link rel="prefetch" href="/assets/js/142.909571e7.js"><link rel="prefetch" href="/assets/js/143.9c55503a.js"><link rel="prefetch" href="/assets/js/144.037eb178.js"><link rel="prefetch" href="/assets/js/145.b15eb629.js"><link rel="prefetch" href="/assets/js/146.92f941e0.js"><link rel="prefetch" href="/assets/js/147.ee679e8f.js"><link rel="prefetch" href="/assets/js/148.259bd94c.js"><link rel="prefetch" href="/assets/js/149.0560570b.js"><link rel="prefetch" href="/assets/js/15.d25af981.js"><link rel="prefetch" href="/assets/js/150.e0970997.js"><link rel="prefetch" href="/assets/js/151.8c91c562.js"><link rel="prefetch" href="/assets/js/152.b2680c3d.js"><link rel="prefetch" href="/assets/js/153.43d5659d.js"><link rel="prefetch" href="/assets/js/154.41332198.js"><link rel="prefetch" href="/assets/js/155.36a0da41.js"><link rel="prefetch" href="/assets/js/156.8d9c6ad6.js"><link rel="prefetch" href="/assets/js/157.016cc281.js"><link rel="prefetch" href="/assets/js/158.c846bda8.js"><link rel="prefetch" href="/assets/js/159.60ef4fd7.js"><link rel="prefetch" href="/assets/js/16.fe68c618.js"><link rel="prefetch" href="/assets/js/160.e000f0e7.js"><link rel="prefetch" href="/assets/js/161.f67efc97.js"><link rel="prefetch" href="/assets/js/162.4eadc328.js"><link rel="prefetch" href="/assets/js/163.39e9bbe6.js"><link rel="prefetch" href="/assets/js/164.8e990d4c.js"><link rel="prefetch" href="/assets/js/165.9cc5569d.js"><link rel="prefetch" href="/assets/js/166.dcfd67ce.js"><link rel="prefetch" href="/assets/js/167.0a12942f.js"><link rel="prefetch" href="/assets/js/168.db0cf4d8.js"><link rel="prefetch" href="/assets/js/169.0177438a.js"><link rel="prefetch" href="/assets/js/17.de0b324b.js"><link rel="prefetch" href="/assets/js/170.799f7bf1.js"><link rel="prefetch" href="/assets/js/171.72b504b4.js"><link rel="prefetch" href="/assets/js/172.3fedbd3b.js"><link rel="prefetch" href="/assets/js/173.9d2d86ef.js"><link rel="prefetch" href="/assets/js/174.1a15c5a7.js"><link rel="prefetch" href="/assets/js/175.62da2bad.js"><link rel="prefetch" href="/assets/js/176.fa85299a.js"><link rel="prefetch" href="/assets/js/177.a4f8a83d.js"><link rel="prefetch" href="/assets/js/178.3da2977b.js"><link rel="prefetch" href="/assets/js/179.5a0698c9.js"><link rel="prefetch" href="/assets/js/18.75c085a9.js"><link rel="prefetch" href="/assets/js/180.b3c22f44.js"><link rel="prefetch" href="/assets/js/181.258acfab.js"><link rel="prefetch" href="/assets/js/182.3b612a1c.js"><link rel="prefetch" href="/assets/js/183.04d35baf.js"><link rel="prefetch" href="/assets/js/184.2f6ebfb6.js"><link rel="prefetch" href="/assets/js/185.3d2ba522.js"><link rel="prefetch" href="/assets/js/186.85211aa8.js"><link rel="prefetch" href="/assets/js/187.3a727290.js"><link rel="prefetch" href="/assets/js/188.39112337.js"><link rel="prefetch" href="/assets/js/189.160e194c.js"><link rel="prefetch" href="/assets/js/19.7d112bce.js"><link rel="prefetch" href="/assets/js/190.c053d7a2.js"><link rel="prefetch" href="/assets/js/191.22cefdac.js"><link rel="prefetch" href="/assets/js/192.964f5e88.js"><link rel="prefetch" href="/assets/js/193.700abf9f.js"><link rel="prefetch" href="/assets/js/194.e267a0f1.js"><link rel="prefetch" href="/assets/js/195.e49141be.js"><link rel="prefetch" href="/assets/js/196.abd378ac.js"><link rel="prefetch" href="/assets/js/197.49b8f519.js"><link rel="prefetch" href="/assets/js/198.f60281e1.js"><link rel="prefetch" href="/assets/js/199.2444da81.js"><link rel="prefetch" href="/assets/js/20.81f5b440.js"><link rel="prefetch" href="/assets/js/200.54f5e6d4.js"><link rel="prefetch" href="/assets/js/201.132bab0f.js"><link rel="prefetch" href="/assets/js/202.cd5ef700.js"><link rel="prefetch" href="/assets/js/203.6524ae1d.js"><link rel="prefetch" href="/assets/js/204.79049883.js"><link rel="prefetch" href="/assets/js/205.b453ac0d.js"><link rel="prefetch" href="/assets/js/206.8e68e3cb.js"><link rel="prefetch" href="/assets/js/207.0dbf0bb5.js"><link rel="prefetch" href="/assets/js/208.a6f0aa62.js"><link rel="prefetch" href="/assets/js/209.5eb00898.js"><link rel="prefetch" href="/assets/js/21.b8f03079.js"><link rel="prefetch" href="/assets/js/210.5394d572.js"><link rel="prefetch" href="/assets/js/211.4d73566d.js"><link rel="prefetch" href="/assets/js/212.01ea7dd7.js"><link rel="prefetch" href="/assets/js/213.80261d17.js"><link rel="prefetch" href="/assets/js/214.42974ae8.js"><link rel="prefetch" href="/assets/js/215.6a9aefd7.js"><link rel="prefetch" href="/assets/js/216.71698897.js"><link rel="prefetch" href="/assets/js/217.cbdb7908.js"><link rel="prefetch" href="/assets/js/218.e1ca46a4.js"><link rel="prefetch" href="/assets/js/219.4bff8927.js"><link rel="prefetch" href="/assets/js/22.ce37cd53.js"><link rel="prefetch" href="/assets/js/220.d29e2c08.js"><link rel="prefetch" href="/assets/js/221.6a2c607c.js"><link rel="prefetch" href="/assets/js/222.7209db02.js"><link rel="prefetch" href="/assets/js/223.18f8b9df.js"><link rel="prefetch" href="/assets/js/224.52b820e0.js"><link rel="prefetch" href="/assets/js/225.46e90caa.js"><link rel="prefetch" href="/assets/js/226.63ed554a.js"><link rel="prefetch" href="/assets/js/227.7fafc4da.js"><link rel="prefetch" href="/assets/js/228.7706dc54.js"><link rel="prefetch" href="/assets/js/229.842a1964.js"><link rel="prefetch" href="/assets/js/23.87e7e45e.js"><link rel="prefetch" href="/assets/js/230.ddc0f55a.js"><link rel="prefetch" href="/assets/js/231.e72fa0a7.js"><link rel="prefetch" href="/assets/js/232.e15e10a1.js"><link rel="prefetch" href="/assets/js/233.9001d006.js"><link rel="prefetch" href="/assets/js/234.c55b49d9.js"><link rel="prefetch" href="/assets/js/235.da1bf5f9.js"><link rel="prefetch" href="/assets/js/236.9efb932c.js"><link rel="prefetch" href="/assets/js/237.67412574.js"><link rel="prefetch" href="/assets/js/238.24ef619f.js"><link rel="prefetch" href="/assets/js/239.1f2a6298.js"><link rel="prefetch" href="/assets/js/24.5aa30e8d.js"><link rel="prefetch" href="/assets/js/240.9c9279b1.js"><link rel="prefetch" href="/assets/js/241.695630cd.js"><link rel="prefetch" href="/assets/js/242.891e7aef.js"><link rel="prefetch" href="/assets/js/243.edd26862.js"><link rel="prefetch" href="/assets/js/245.d10042cf.js"><link rel="prefetch" href="/assets/js/246.d57006a7.js"><link rel="prefetch" href="/assets/js/247.b2d6742e.js"><link rel="prefetch" href="/assets/js/248.8b56d853.js"><link rel="prefetch" href="/assets/js/249.b8fc1805.js"><link rel="prefetch" href="/assets/js/25.5c7b2cfe.js"><link rel="prefetch" href="/assets/js/250.1aad43ae.js"><link rel="prefetch" href="/assets/js/251.be9db929.js"><link rel="prefetch" href="/assets/js/252.afedca09.js"><link rel="prefetch" href="/assets/js/253.c6e86855.js"><link rel="prefetch" href="/assets/js/254.90b4f52a.js"><link rel="prefetch" href="/assets/js/255.227c9c47.js"><link rel="prefetch" href="/assets/js/256.fe3714d4.js"><link rel="prefetch" href="/assets/js/257.3e5db4f7.js"><link rel="prefetch" href="/assets/js/258.29013d06.js"><link rel="prefetch" href="/assets/js/259.e9af4b51.js"><link rel="prefetch" href="/assets/js/26.5a8e32e6.js"><link rel="prefetch" href="/assets/js/260.9555612d.js"><link rel="prefetch" href="/assets/js/261.e8e200a0.js"><link rel="prefetch" href="/assets/js/262.0f393806.js"><link rel="prefetch" href="/assets/js/263.42b99650.js"><link rel="prefetch" href="/assets/js/264.5e36cccd.js"><link rel="prefetch" href="/assets/js/265.e7759e0e.js"><link rel="prefetch" href="/assets/js/266.2bce58fa.js"><link rel="prefetch" href="/assets/js/267.6e2a5a40.js"><link rel="prefetch" href="/assets/js/27.997b1485.js"><link rel="prefetch" href="/assets/js/28.ef6638c6.js"><link rel="prefetch" href="/assets/js/29.c9d728b9.js"><link rel="prefetch" href="/assets/js/3.dc3407e1.js"><link rel="prefetch" href="/assets/js/30.d873fb03.js"><link rel="prefetch" href="/assets/js/31.2bf741ce.js"><link rel="prefetch" href="/assets/js/32.551ac32b.js"><link rel="prefetch" href="/assets/js/33.b6573b5c.js"><link rel="prefetch" href="/assets/js/34.b46900a8.js"><link rel="prefetch" href="/assets/js/35.f131466c.js"><link rel="prefetch" href="/assets/js/36.89942ede.js"><link rel="prefetch" href="/assets/js/37.0e54922b.js"><link rel="prefetch" href="/assets/js/38.36f714a1.js"><link rel="prefetch" href="/assets/js/39.2256d2d3.js"><link rel="prefetch" href="/assets/js/4.43d53c19.js"><link rel="prefetch" href="/assets/js/40.784c879e.js"><link rel="prefetch" href="/assets/js/41.8bac5a7b.js"><link rel="prefetch" href="/assets/js/42.b6e7fc8b.js"><link rel="prefetch" href="/assets/js/43.ab92dcea.js"><link rel="prefetch" href="/assets/js/44.666a8d67.js"><link rel="prefetch" href="/assets/js/45.23a7d54d.js"><link rel="prefetch" href="/assets/js/46.c90bff29.js"><link rel="prefetch" href="/assets/js/47.b109dec7.js"><link rel="prefetch" href="/assets/js/48.7f766765.js"><link rel="prefetch" href="/assets/js/49.0a8e763d.js"><link rel="prefetch" href="/assets/js/5.b6321aed.js"><link rel="prefetch" href="/assets/js/50.686d1521.js"><link rel="prefetch" href="/assets/js/51.9936e373.js"><link rel="prefetch" href="/assets/js/52.f0b789de.js"><link rel="prefetch" href="/assets/js/53.5438164d.js"><link rel="prefetch" href="/assets/js/54.ec6f1f74.js"><link rel="prefetch" href="/assets/js/55.002caceb.js"><link rel="prefetch" href="/assets/js/56.d7896533.js"><link rel="prefetch" href="/assets/js/57.560f886c.js"><link rel="prefetch" href="/assets/js/58.ede39d55.js"><link rel="prefetch" href="/assets/js/59.f8e25f0e.js"><link rel="prefetch" href="/assets/js/6.8dc86351.js"><link rel="prefetch" href="/assets/js/60.16e85fb0.js"><link rel="prefetch" href="/assets/js/61.c4a68cdb.js"><link rel="prefetch" href="/assets/js/62.b8285ec7.js"><link rel="prefetch" href="/assets/js/63.cea2c4d9.js"><link rel="prefetch" href="/assets/js/64.33d06366.js"><link rel="prefetch" href="/assets/js/65.7dacc788.js"><link rel="prefetch" href="/assets/js/66.1c982721.js"><link rel="prefetch" href="/assets/js/67.5509334e.js"><link rel="prefetch" href="/assets/js/68.f9deb190.js"><link rel="prefetch" href="/assets/js/69.fd052a09.js"><link rel="prefetch" href="/assets/js/7.4de4dc57.js"><link rel="prefetch" href="/assets/js/70.b36ecec1.js"><link rel="prefetch" href="/assets/js/71.09472ede.js"><link rel="prefetch" href="/assets/js/72.7fc03c28.js"><link rel="prefetch" href="/assets/js/73.1df4ed7b.js"><link rel="prefetch" href="/assets/js/74.eef842dd.js"><link rel="prefetch" href="/assets/js/75.a4642706.js"><link rel="prefetch" href="/assets/js/76.2921120f.js"><link rel="prefetch" href="/assets/js/77.8959d3b8.js"><link rel="prefetch" href="/assets/js/78.15af67c9.js"><link rel="prefetch" href="/assets/js/79.ca2b3995.js"><link rel="prefetch" href="/assets/js/80.86253068.js"><link rel="prefetch" href="/assets/js/81.4dfb5100.js"><link rel="prefetch" href="/assets/js/82.40f05690.js"><link rel="prefetch" href="/assets/js/83.ae59f017.js"><link rel="prefetch" href="/assets/js/84.a16c2086.js"><link rel="prefetch" href="/assets/js/85.78764153.js"><link rel="prefetch" href="/assets/js/86.6da75781.js"><link rel="prefetch" href="/assets/js/87.9093c83e.js"><link rel="prefetch" href="/assets/js/88.1b71ff61.js"><link rel="prefetch" href="/assets/js/89.c3298594.js"><link rel="prefetch" href="/assets/js/90.dbab72f7.js"><link rel="prefetch" href="/assets/js/91.201c3950.js"><link rel="prefetch" href="/assets/js/92.23d20e66.js"><link rel="prefetch" href="/assets/js/93.35dc98bf.js"><link rel="prefetch" href="/assets/js/94.da768453.js"><link rel="prefetch" href="/assets/js/95.9767a2ff.js"><link rel="prefetch" href="/assets/js/96.890fcdc4.js"><link rel="prefetch" href="/assets/js/97.4bdcd3d5.js"><link rel="prefetch" href="/assets/js/98.972a16fd.js"><link rel="prefetch" href="/assets/js/99.44f9b5d3.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.a900b7e8.js">
    <link rel="stylesheet" href="/assets/css/0.styles.8f3dca9f.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/logo.png" alt="Front-End-Basics" class="logo"> <span class="site-name can-hide">Front-End-Basics</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/article/" class="nav-link">
  捡贝壳
</a></div> <a href="https://github.com/qiqihaobenben/Front-End-Basics" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/article/" class="nav-link">
  捡贝壳
</a></div> <a href="https://github.com/qiqihaobenben/Front-End-Basics" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Linux</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/server/linux/computer.html" class="sidebar-link">计算机基础和 Linux 基础</a></li><li><a href="/server/linux/version.html" class="sidebar-link">Linux 版本详述</a></li><li><a href="/server/linux/centos.html" class="sidebar-link">CentOS 入门</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Shell</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/server/shell/basics.html" class="sidebar-link">Shell 概览</a></li><li><a href="/server/shell/script.html" class="sidebar-link">shell 脚本编程详解</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Nginx</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/server/nginx/introduction.html" class="sidebar-link">Nginx 介绍</a></li><li><a href="/server/nginx/install.html" class="sidebar-link">Nginx 安装</a></li><li><a href="/server/nginx/command.html" class="sidebar-link">Nginx 操作命令</a></li><li><a href="/server/nginx/config.html" class="sidebar-link">Nginx 基础配置和语法</a></li><li><a href="/server/nginx/static.html" class="sidebar-link">Nginx 实操-静态资源服务器</a></li><li><a href="/server/nginx/proxy.html" class="sidebar-link">Nginx 实操-代理相关</a></li><li><a href="/server/nginx/tips.html" class="sidebar-link">Nginx 实操-常用配置</a></li><li><a href="/server/nginx/advance.html" class="sidebar-link">Nginx 进阶</a></li><li><a href="/server/nginx/process.html" class="sidebar-link">Nginx 执行流程</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="docker-命令"><a href="#docker-命令" class="header-anchor">#</a> Docker 命令</h1> <h2 id="基础操作"><a href="#基础操作" class="header-anchor">#</a> 基础操作</h2> <h3 id="_1-查看-docker-版本"><a href="#_1-查看-docker-版本" class="header-anchor">#</a> 1. 查看 Docker 版本</h3> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># 简单输出版本号</span>
<span class="token function">docker</span> <span class="token parameter variable">-v</span>
<span class="token function">docker</span> <span class="token parameter variable">--version</span>

<span class="token comment"># 详细输出版本信息</span>
<span class="token function">docker</span> version
</code></pre></div><h3 id="_2-查看-docker-信息"><a href="#_2-查看-docker-信息" class="header-anchor">#</a> 2. 查看 Docker 信息</h3> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">docker</span> info
</code></pre></div><ul><li>Client：docker 客户端信息</li> <li>Server：docker 服务端信息</li> <li>Containers：容器数量</li> <li>Images：镜像数量</li> <li>Server Version：docker 版本</li> <li>Docker Root Dir：docker 根目录</li> <li>Registry Mirrors：当前使用的镜像源</li></ul> <h3 id="把用户加入-docker-用户组"><a href="#把用户加入-docker-用户组" class="header-anchor">#</a> 把用户加入 Docker 用户组</h3> <p>Docker 需要用户具有 sudo 权限，为了避免每次命令都输入 <code>sudo</code>，可以把用户加入 Docker 用户组，使其具有 Docker 权限。</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">usermod</span> <span class="token parameter variable">-aG</span> <span class="token function">docker</span> <span class="token environment constant">$USER</span>
</code></pre></div><h3 id="_3-启动-docker"><a href="#_3-启动-docker" class="header-anchor">#</a> 3. 启动 Docker</h3> <p>Docker 是服务器——客户端架构，命令行操作 Docker 时，需要先启动 Docker 服务。</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">sudo</span> systemctl start <span class="token function">docker</span>
</code></pre></div><h3 id="_4-停止-docker"><a href="#_4-停止-docker" class="header-anchor">#</a> 4. 停止 Docker</h3> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">sudo</span> systemctl stop <span class="token function">docker</span>
</code></pre></div><h3 id="_5-重启-docker"><a href="#_5-重启-docker" class="header-anchor">#</a> 5. 重启 Docker</h3> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">sudo</span> systemctl restart <span class="token function">docker</span>
</code></pre></div><h2 id="dcoker-仓库"><a href="#dcoker-仓库" class="header-anchor">#</a> Dcoker 仓库</h2> <p>Docker Hub 官网：https://hub.docker.com/</p> <h3 id="docker-login"><a href="#docker-login" class="header-anchor">#</a> docker login</h3> <p>需要先在 Docker Hub 中注册一个账号才能在 Linux 登录</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># 通过命令行方式输入账号密码</span>
<span class="token function">docker</span> login

<span class="token comment"># 通过参数输入账号密码，这种方式不安全，密码会出现在 shell 的历史记录或日志文件中</span>
<span class="token function">docker</span> login <span class="token parameter variable">-u</span> poloyy <span class="token parameter variable">-p</span> ***

<span class="token comment"># 通过 STDIN 输入密码，先将密码存储在 pwd.txt 文件中，可以解决上一个栗子的不安全问题</span>
<span class="token function">cat</span> pwd.txt <span class="token operator">|</span> <span class="token function">docker</span> login <span class="token parameter variable">-u</span> poloyy --password-stdin
</code></pre></div><h3 id="docker-logout"><a href="#docker-logout" class="header-anchor">#</a> docker logout</h3> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">docker</span> <span class="token builtin class-name">logout</span>
<span class="token comment"># Removing login credentials for https://index.docker.io/v1/</span>
</code></pre></div><h3 id="docker-pull"><a href="#docker-pull" class="header-anchor">#</a> docker pull</h3> <p>从镜像仓库中拉取或更新镜像</p> <p>语法格式：<code>docker pull [OPTIONS] NAME[:TAG|@DIGEST]</code></p> <p>TAG：标签，不写的话默认是 latest 最新版</p> <h4 id="options-说明"><a href="#options-说明" class="header-anchor">#</a> options 说明</h4> <ul><li>-a, --all-tags ： 拉取所有 tagged 镜像</li> <li>--disable-content-trust ： 忽略镜像的校验,默认开启</li> <li>-q, --quiet ： 概要输出</li> <li>--platform string ： 若服务支持多平台，这里可以设置平台</li></ul> <h4 id="示例"><a href="#示例" class="header-anchor">#</a> 示例</h4> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># 从 Docker Hub下载java最新版镜像</span>
<span class="token function">docker</span> pull <span class="token function">java</span>

<span class="token comment"># 从 Docker Hub下载 REPOSITORY 为 java 的所有镜像</span>
<span class="token function">docker</span> pull <span class="token parameter variable">-a</span> <span class="token function">java</span>

<span class="token comment"># 等价写法</span>
<span class="token function">docker</span> pull tomcat:8
<span class="token function">docker</span> pull docker.io/library/tomcat:8
</code></pre></div><h3 id="docker-push"><a href="#docker-push" class="header-anchor">#</a> docker push</h3> <p>将本地的镜像上传到镜像仓库，要先登录到镜像仓库</p> <p>上传本地镜像的前置操作：</p> <ul><li>注册 Docker Hub 账号</li> <li>Linux 登录 Docker Hub 账号</li> <li>给镜像设置 TAG</li></ul> <p>语法格式：<code>docker push [OPTIONS] NAME[:TAG]</code></p> <h4 id="options-说明-2"><a href="#options-说明-2" class="header-anchor">#</a> options 说明</h4> <ul><li>--disable-content-trust ： 忽略镜像的校验,默认开启</li></ul> <h3 id="docker-search"><a href="#docker-search" class="header-anchor">#</a> docker search</h3> <p>从 Docker Hub 上查找镜像</p> <p>语法格式 <code>docker search [OPTIONS] NAME</code></p> <h4 id="options-说明-3"><a href="#options-说明-3" class="header-anchor">#</a> options 说明</h4> <ul><li>-f, --filter ： 根据提供的 filter 过滤输出</li> <li>--limit N ： 搜索结果条数最大为 N（默认 25）</li> <li>--no-trunc ： 显示完整的镜像 description</li> <li>--format ： 使用 Go 模板进行美观打印</li></ul> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># 搜索 star 数量&gt;1000 的 node 相关镜像并打印详细描述</span>
<span class="token function">docker</span> search <span class="token parameter variable">--filter</span> <span class="token assign-left variable">stars</span><span class="token operator">=</span><span class="token number">1000</span> --no-trunc <span class="token function">node</span>

<span class="token comment"># 搜索自动构建的 node 相关镜像，能看到 AUTOMATED 都是 OK</span>
<span class="token function">docker</span> search <span class="token parameter variable">--filter</span> is-automated<span class="token operator">=</span>true <span class="token function">node</span>

<span class="token comment"># 搜索 star 数量&gt;100 且是官方版本的 node 镜像</span>
<span class="token function">docker</span> search <span class="token parameter variable">--filter</span> <span class="token assign-left variable">stars</span><span class="token operator">=</span><span class="token number">100</span> <span class="token parameter variable">--filter</span> is-official<span class="token operator">=</span>true <span class="token function">node</span>
</code></pre></div><h2 id="本地镜像管理"><a href="#本地镜像管理" class="header-anchor">#</a> 本地镜像管理</h2> <h3 id="docker-images"><a href="#docker-images" class="header-anchor">#</a> docker images</h3> <p>列出本地所有的镜像</p> <p>语法： <code>docker images [OPTIONS] [REPOSITORY[:TAG]]</code></p> <h4 id="options-说明-4"><a href="#options-说明-4" class="header-anchor">#</a> options 说明</h4> <ul><li>-a, --all 列出本地所有的镜像（含中间镜像层，默认情况下，过滤掉中间映像层）</li> <li>--digests 显示镜像的摘要信息</li> <li>-f, --filter filter 显示满足条件（filter）的镜像</li> <li>--format string 使用模板格式化输出</li> <li>--no-trunc 显示完整的镜像信息</li> <li>-q, --quiet 只显示镜像 ID</li></ul> <div class="language- extra-class"><pre class="language-text"><code>docker images

REPOSITORY            TAG                 IMAGE ID            CREATED           SIZE
hello-world           latest              bf756fb1ae65        4 months ago     13.3kB
mysql                 5.7                 b84d68d0a7db        6 days ago       448MB

# 解释
#REPOSITORY            # 镜像的仓库源
#TAG                # 镜像的标签(版本)        ---lastest 表示最新版本
#IMAGE ID            # 镜像的id
#CREATED            # 镜像的创建时间
#SIZE                # 镜像的大小
</code></pre></div><div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># 指定镜像名</span>
<span class="token function">docker</span> images hello-world

<span class="token comment"># 指定镜像名和 tag</span>
<span class="token function">docker</span> images hello-world:latest
</code></pre></div><h3 id="docker-rmi"><a href="#docker-rmi" class="header-anchor">#</a> docker rmi</h3> <p>删除一个或多个镜像</p> <p>语法格式：<code>docker rmi [OPTIONS] IMAGE [IMAGE...]</code></p> <h4 id="options-说明-5"><a href="#options-说明-5" class="header-anchor">#</a> options 说明</h4> <ul><li>-f 强制删除</li> <li>--no-prune 不移除该镜像的过程镜像，默认移除</li></ul> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># 删除镜像，且不带 tag</span>
<span class="token function">docker</span> rmi hello-world

<span class="token comment"># 删除镜像，且带 tag</span>
<span class="token function">docker</span> rmi <span class="token parameter variable">-f</span> tomcat:latest

<span class="token comment"># 根据镜像 id 删除镜像</span>
<span class="token function">docker</span> rmi <span class="token parameter variable">-f</span> fd484f19954f

<span class="token comment"># 删除所有镜像</span>
<span class="token function">docker</span> rmi <span class="token parameter variable">-f</span> <span class="token variable"><span class="token variable">$(</span><span class="token function">docker</span> images <span class="token parameter variable">-aq</span><span class="token variable">)</span></span>

<span class="token comment"># 删除多个镜像</span>
<span class="token function">docker</span> rmi <span class="token parameter variable">-f</span> tomcat mysql
</code></pre></div><h3 id="docker-tag"><a href="#docker-tag" class="header-anchor">#</a> docker tag</h3> <p>给本地镜像打一个标记（tag），可将其归入某一仓库，有点像 Git 里面给不同时段写的代码打不同的 tag 一样</p> <p>语法格式：<code>docker tag SOURCE_IMAGE[:TAG] TARGET_IMAGE[:TAG]</code></p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># 打了新的 TAG 虽然会多了一条记录，但是从 IMAGE ID 可以得知他们是同一个镜像，类比：在 git 中，同一个代码项目，可以有多个不同的 tag</span>
<span class="token function">docker</span> tag abc/poloyy:latest abc/poloyy:new

<span class="token comment"># 也能更改镜像的名字</span>
<span class="token function">docker</span> tag abc/poloyy:new efd/poloyy:new2
</code></pre></div><h3 id="docker-import"><a href="#docker-import" class="header-anchor">#</a> docker import</h3> <p>从 tar 归档文件中创建镜像</p> <p>语法格式：<code>docker import [OPTIONS] file|URL|- [REPOSITORY[:TAG]]</code></p> <p>ptions 说明</p> <ul><li>-m 提交时的说明文字</li> <li>-c 将 Dockerfile 指令应用于创建的映像</li></ul> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">docker</span> <span class="token function">import</span> test.tar poloyy/tomcat
</code></pre></div><h2 id="容器操作"><a href="#容器操作" class="header-anchor">#</a> 容器操作</h2> <h3 id="docker-create"><a href="#docker-create" class="header-anchor">#</a> docker create</h3> <p>创建一个新的容器但不启动它。</p> <p>这类似于 docker run -d，但容器从未启动过。 然后，您可以使用 <code>docker start &lt;container_id&gt;</code> 命令在任何位置启动容器。</p> <p>语法格式：<code>docker create [OPTIONS] IMAGE [COMMAND] [ARG...]</code></p> <h4 id="options-说明-6"><a href="#options-说明-6" class="header-anchor">#</a> options 说明</h4> <ul><li>--name 指定容器的名字</li></ul> <p><code>docker create --name tomcat7 tomcat:7</code></p> <ul><li>-e 或 --env 设置环境变量</li></ul> <p><code>docker create -e &quot;MY_VAR=value&quot; ubuntu:latest</code></p> <ul><li>-v 或 --volume 挂载卷</li></ul> <p><code>docker create -v /host/path:/container/path ubuntu:latest</code></p> <ul><li>-p 或 --publish 指定端口映射</li></ul> <p><code>docker create -p 8080:80 ubuntu:latest</code></p> <ul><li>--restart 设置重启策略</li></ul> <p><code>docker create --restart always ubuntu:latest</code></p> <ul><li>--network 指定网络</li></ul> <p><code>docker create --network my_network ubuntu:latest</code></p> <ul><li>--cpus 和 --memory 指定 CPU 和内存限制</li></ul> <p><code>docker create --cpus=&quot;1.5&quot; --memory=&quot;512m&quot; ubuntu:latest</code></p> <ul><li>-w 或 --workdir 设置容器工作目录</li></ul> <p><code>docker create -w /app ubuntu:latest</code></p> <ul><li>指定运行的命令：如果你想指定容器启动时的默认命令，可以直接在命令的末尾添加。</li></ul> <p><code>docker create ubuntu:latest echo &quot;Hello World&quot;</code></p> <h3 id="docker-start-stop-restart"><a href="#docker-start-stop-restart" class="header-anchor">#</a> docker start/stop/restart</h3> <ul><li>docker start：启动一个或多个已经被停止的容器</li> <li>docker stop：停止一个或多个运行中的容器</li> <li>docker restart：重启一个或多个容器</li></ul> <h4 id="语法"><a href="#语法" class="header-anchor">#</a> 语法</h4> <div class="language- extra-class"><pre class="language-text"><code>docker start [OPTIONS] CONTAINER [CONTAINER...]
docker stop [OPTIONS] CONTAINER [CONTAINER...]
docker restart [OPTIONS] CONTAINER [CONTAINER...]
</code></pre></div><h4 id="stop-restart-命令的-options"><a href="#stop-restart-命令的-options" class="header-anchor">#</a> stop/restart 命令的 options</h4> <ul><li>-t, --time 杀死容器之前等待停止的秒数（默认为 10）</li></ul> <h4 id="示例-2"><a href="#示例-2" class="header-anchor">#</a> 示例</h4> <p>假设有一个容器 name 是 tomcat3 ，id 是 7759aec97ebf</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment">#根据容器 ID 启动、关闭、重启</span>
<span class="token function">docker</span> start 59aec7797ebf
<span class="token function">docker</span> stop 59aec7797ebf
<span class="token function">docker</span> restart 59aec7797ebf

<span class="token comment">#根据容器名字启动、关闭、重启</span>
<span class="token function">docker</span> start myTomcat3
<span class="token function">docker</span> stop myTomcat3
<span class="token function">docker</span> restart myTomcat3
</code></pre></div><p>启动、关闭、重启所有容器</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">docker</span> start <span class="token variable"><span class="token variable">$(</span><span class="token function">docker</span> <span class="token function">ps</span> <span class="token parameter variable">-a</span> <span class="token parameter variable">-q</span><span class="token variable">)</span></span>

<span class="token function">docker</span> stop <span class="token variable"><span class="token variable">$(</span><span class="token function">docker</span> <span class="token function">ps</span> <span class="token parameter variable">-a</span> <span class="token parameter variable">-q</span><span class="token variable">)</span></span>

<span class="token function">docker</span> restart <span class="token variable"><span class="token variable">$(</span><span class="token function">docker</span> <span class="token function">ps</span> <span class="token parameter variable">-a</span> <span class="token parameter variable">-q</span><span class="token variable">)</span></span>
</code></pre></div><h3 id="docker-ps-列出容器"><a href="#docker-ps-列出容器" class="header-anchor">#</a> docker ps 列出容器</h3> <div class="language- extra-class"><pre class="language-text"><code>docker ps [OPTIONS]
</code></pre></div><h4 id="options-说明-7"><a href="#options-说明-7" class="header-anchor">#</a> options 说明</h4> <ul><li>-a, --all 显示全部容器（默认只显示运行中的容器）</li> <li>-f, --filter filter 根据提供的 filter 过滤输出</li> <li>-n, --last int 列出最近创建的 n 个容器（默认-1，代表全部）</li> <li>-l, --latest 显示最近创建的容器（包括所有状态的容器）</li> <li>-s, --size 显示总的文件大小</li> <li>--no-trunc 显示完整的镜像 ID</li> <li>-q, --quiet 静默模式，只显示容器 ID</li></ul> <h4 id="实际例子"><a href="#实际例子" class="header-anchor">#</a> 实际例子</h4> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># 不带options</span>
<span class="token function">docker</span> <span class="token function">ps</span>

<span class="token comment"># 显示全部容器，和总文件大小</span>
<span class="token function">docker</span> <span class="token function">ps</span> <span class="token parameter variable">-a</span> <span class="token parameter variable">-s</span>

<span class="token comment"># 显示最近创建的容器</span>
<span class="token function">docker</span> <span class="token function">ps</span> <span class="token parameter variable">-l</span>
<span class="token function">docker</span> <span class="token function">ps</span> <span class="token parameter variable">-a</span> <span class="token parameter variable">-l</span>

<span class="token comment"># 显示最近创建的 2 个容器</span>
<span class="token function">docker</span> <span class="token function">ps</span> <span class="token parameter variable">-n</span> <span class="token number">2</span>

<span class="token comment"># 显示完整的镜像ID</span>
<span class="token function">docker</span> <span class="token function">ps</span> --no-trunc

<span class="token comment"># 只显示镜像ID</span>
<span class="token function">docker</span> <span class="token function">ps</span> <span class="token parameter variable">-q</span>
</code></pre></div><h4 id="列表字段介绍"><a href="#列表字段介绍" class="header-anchor">#</a> 列表字段介绍</h4> <ul><li>CONTAINER ID：容器 ID</li> <li>IMAGE：使用的镜像</li> <li>COMMAND：启动容器时后，容器运行的命令</li> <li>CREATED：容器的创建时间</li> <li>STATUS：容器状态</li> <li>PORTS：实际运行端口，若有指定运行端口则会显示指定的端口和默认运行端口，以及连接类型（ tcp / udp ）</li> <li>NAMES：容器名字</li> <li>SIZE：容器全部文件的总大小，也会显示容器大小</li></ul> <h4 id="容器状态介绍"><a href="#容器状态介绍" class="header-anchor">#</a> 容器状态介绍</h4> <ul><li>created：已创建</li> <li>restarting：重启中</li> <li>running：运行中</li> <li>removing：迁移中</li> <li>paused：暂停</li> <li>exited：停止</li> <li>dead：死亡</li></ul> <h3 id="docker-run"><a href="#docker-run" class="header-anchor">#</a> docker run</h3> <p>创建一个新的容器并运行一个命令</p> <p>语法格式：<code>docker run [OPTIONS] IMAGE [COMMAND] [ARG...]</code></p> <p>COMMAND ：需要在容器内执行的命令</p> <p>其实跟 docker create 一样的语法格式和几乎一样的参数，只不过可以运行容器甚至进入容器内部。因为它在后台会先调用 docker create，然后再执行 docker start</p> <h4 id="docker-run-执行流程"><a href="#docker-run-执行流程" class="header-anchor">#</a> docker run 执行流程</h4> <ul><li>首先在指定镜像上创建一个可写的容器层（docker create）</li> <li>然后使用指定的命令（COMMAND）启动它（docker start）</li> <li>docker run 相当于执行了两个 API：/containers/create、/containers/(id)/start</li></ul> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment">#根据 tag 7 的 tomcat 镜像，创建一个 tomcat7 容器</span>
<span class="token function">docker</span> create <span class="token parameter variable">--name</span> tomcat7 tomcat:7
</code></pre></div><h4 id="options-说明-8"><a href="#options-说明-8" class="header-anchor">#</a> options 说明</h4> <ul><li>-i 以交互模式运行容器，通常与 -t 同时使用</li> <li>-t 启动容器后，为容器分配一个伪输入终端（pseudo-TTY），通常与 -i 同时使用</li> <li>-v，--volume 目录映射，容器目录挂载到宿主机目录，格式： &lt;host 目录&gt;:&lt;容器目录&gt;</li> <li>-d 或 --detach 守护进程，后台运行该容器</li> <li>-p 指定端口映射，格式：主机(宿主)端口:容器端口</li> <li>-P 随机端口映射，容器内部端口随机映射到主机的端口</li> <li>-u 以什么用户身份创建容器</li> <li>--name &quot;nginx-lb&quot; 容器名字</li> <li>-m, --memory bytes 设置容器使用内存最大值</li> <li>-h, --hostname string 指定容器的 host name</li> <li>--dns 8.8.8.8 指定容器 dns 服务器</li> <li>-e username=&quot;ritchie&quot; 设置环境变量</li> <li>--restart Docker 重启后，容器是否自动重启</li> <li>--privileged 容器内是否使用真正的 root 权限</li></ul> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># 使用镜像 tomcat:7，容器命名为 tomcat7</span>
<span class="token function">docker</span> run <span class="token parameter variable">--name</span> tomcat7 tomcat:7

<span class="token comment"># 使用镜像 tomcat:7，容器命名为 tomcat7，在后台运行</span>
<span class="token function">docker</span> run <span class="token parameter variable">-d</span> <span class="token parameter variable">--name</span> tomcat7 tomcat:7

<span class="token comment"># 使用镜像 tomcat:7，容器命名为 tomcat7，在后台运行，将容器的 8080 端口映射到主机的随机端口</span>
<span class="token function">docker</span> run <span class="token parameter variable">-d</span> <span class="token parameter variable">-P</span> <span class="token parameter variable">--name</span> tomcat7 tomcat:7

<span class="token comment"># 使用镜像 tomcat:7，容器命名为 tomcat7，在后台运行，将容器的 8080 端口映射到主机的 8081 端口</span>
<span class="token function">docker</span> run <span class="token parameter variable">-d</span> <span class="token parameter variable">-p</span> <span class="token number">8081</span>:8080 <span class="token parameter variable">--name</span> tomcat7 tomcat:7

<span class="token comment"># 使用镜像 tomcat:7，容器命名为 tomcat7，在后台运行，将容器的 8080 端口映射到主机的 8081 端口，主机的目录 /usr/local/tomcat/webapps 映射到容器的 /usr/local/tomcat/webapps</span>
<span class="token function">docker</span> run <span class="token parameter variable">-d</span> <span class="token parameter variable">-p</span> <span class="token number">8081</span>:8080 <span class="token parameter variable">-i</span> <span class="token parameter variable">--name</span> tomcat7 <span class="token parameter variable">-v</span> /usr/local/tomcat/webapps:/usr/local/tomcat/webapps tomcat:7

<span class="token comment"># 使用镜像 tomcat:7，容器命名为 tomcat7，在后台运行，将容器的 8080 端口映射到主机的 11.20.72.43:8888 端口，主机的目录 usr/local/webapps 映射到容器的 usr/local/webapps，启动容器后，在容器内执行 bash 命令</span>
<span class="token function">docker</span> run <span class="token parameter variable">-d</span> <span class="token parameter variable">-p</span> <span class="token number">111.20</span>.72.43:8888:8080 <span class="token parameter variable">-v</span> /usr/local/webapps:/usr/local/webapps <span class="token parameter variable">-it</span> <span class="token parameter variable">--name</span> tomcat77 tomcat:7 <span class="token function">bash</span>
<span class="token comment"># 注意：这里不加 -it 的话，容器是无法再启动的，加上才能启动容器并执行 bash 命令</span>

<span class="token comment"># 容器 8080 端口映射到主机的 1111 端口，-it 以交互模式启动一个容器，在容器内执行 bash 命令</span>
<span class="token function">docker</span> run <span class="token parameter variable">-it</span> <span class="token parameter variable">-p</span> <span class="token number">1111</span>:8080 tomcat:7 <span class="token function">bash</span>
<span class="token comment"># 注意：如果这里加了 -d  参数，则不会进入容器的 CLI 界面；如果不加 bash 命令，则会执行 tomcat 容器本身自动会执行的命令（ catalina.sh run ），也会进不了 CLI 界面，因为会打印一堆运行日志</span>

<span class="token comment"># 以 root 权限创建容器，当进入容器之后，拥有 root 权限去执行命令</span>
<span class="token function">docker</span> run <span class="token parameter variable">-d</span> <span class="token parameter variable">--name</span> jenkin2 <span class="token parameter variable">--privileged</span><span class="token operator">=</span>true jenkins/jenkins
<span class="token comment"># 虽然是拥有了 root 权限，但并不一定是 root 用户身份，所以最好加 -uroot 指定 root 用户身份</span>

<span class="token comment"># 该容器在 Docker 重启后会自动启动无需手动启动</span>
<span class="token function">docker</span> run <span class="token parameter variable">-d</span> <span class="token parameter variable">--name</span> jenkins2 <span class="token parameter variable">--restart</span> always jenkins/jenkins

<span class="token comment"># 退出容器</span>
<span class="token builtin class-name">exit</span>         <span class="token comment">#容器直接退出</span>
ctrl P + ctrl Q  <span class="token comment">#容器不停止退出     ---注意：这个很有用的操作</span>
</code></pre></div><h3 id="docker-exec"><a href="#docker-exec" class="header-anchor">#</a> docker exec</h3> <p>在正在运行的容器中运行命令</p> <p>语法格式：<code>docker exec [OPTIONS] CONTAINER COMMAND [ARG...]</code></p> <h4 id="options-说明-9"><a href="#options-说明-9" class="header-anchor">#</a> options 说明</h4> <ul><li>-d 在后台运行命令</li> <li>-i 即使没有附加也保持 STDIN 打开，和 -t 配合</li> <li>-t 进入容器的 CLI 模式</li> <li>-e 设置环境变量</li> <li>--env-file 读入环境变量文件</li> <li>-w 需要执行命令的目录</li> <li>-u 指定访问容器的用户名</li></ul> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># 执行 tomcat 容器的 startup.sh 脚本</span>
<span class="token function">docker</span> <span class="token builtin class-name">exec</span> <span class="token parameter variable">-it</span> tomcat7 startup.sh

<span class="token comment"># 进入容器的 CLI 模式（最常用）</span>
<span class="token function">docker</span> <span class="token builtin class-name">exec</span> <span class="token parameter variable">-it</span> tomcat7 <span class="token function">bash</span>

<span class="token comment"># 执行普通命令</span>
<span class="token function">docker</span> <span class="token builtin class-name">exec</span> <span class="token parameter variable">-it</span> tomcat7 <span class="token builtin class-name">pwd</span>

<span class="token comment"># 指定工作目录执行命令</span>
<span class="token function">docker</span> <span class="token builtin class-name">exec</span> <span class="token parameter variable">-it</span> <span class="token parameter variable">-w</span> /usr tomcat7 <span class="token builtin class-name">pwd</span>

<span class="token comment"># 以 root 用户身份进入容器（重点），好处就是，你在容器里敲命令就是 root 权限的，不存在权限不足的问题</span>
<span class="token function">docker</span> <span class="token builtin class-name">exec</span> <span class="token parameter variable">-it</span> <span class="token parameter variable">-u</span> root jenkins1 <span class="token function">bash</span>
</code></pre></div><h3 id="docker-attach"><a href="#docker-attach" class="header-anchor">#</a> docker attach</h3> <p>进入容器正在执行的终端。和 docker exec 的区别是：</p> <ul><li>docker exec 进入当前容器后开启一个新的终端，可以在里面操作。（常用）</li> <li>docker attach 进入容器正在执行某个命令的终端，不能在里面操作</li></ul> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">docker</span> run <span class="token parameter variable">-d</span> <span class="token parameter variable">--name</span> topdemo ubuntu /usr/bin/top <span class="token parameter variable">-b</span>
<span class="token function">docker</span> attach topdemo
</code></pre></div><h3 id="docker-pause-unpause"><a href="#docker-pause-unpause" class="header-anchor">#</a> docker pause/unpause</h3> <ul><li>docker pause：暂停一个或多个容器中的所有进程</li> <li>docker unpause：恢复一个或多个容器中的所有进程</li></ul> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># 暂停 tomcat 容器的服务</span>
<span class="token function">docker</span> pause tomcat7

<span class="token comment"># 恢复 tomcat 容器的服务</span>
<span class="token function">docker</span> unpause tomcat7
</code></pre></div><h3 id="docker-kill"><a href="#docker-kill" class="header-anchor">#</a> docker kill</h3> <p>杀死一个或多个正在运行的容器</p> <h4 id="重点"><a href="#重点" class="header-anchor">#</a> 重点</h4> <ul><li>docker kill 子命令可杀死一个或多个容器</li> <li>向容器内部的主进程发送 SIGKILL 信号（默认），或使用 --signal 选项指定的信号</li></ul> <h4 id="options-说明-10"><a href="#options-说明-10" class="header-anchor">#</a> options 说明</h4> <ul><li>-s 发送什么信号到容器，默认 KILL</li></ul> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># 根据容器名字杀掉容器</span>
<span class="token function">docker</span> <span class="token function">kill</span> tomcat7

<span class="token comment"># 根据容器ID杀掉容器</span>
<span class="token function">docker</span> <span class="token function">kill</span> 65d4a94f7a39
</code></pre></div><h3 id="docker-rm"><a href="#docker-rm" class="header-anchor">#</a> docker rm</h3> <p>删除一个或多个容器</p> <h4 id="options-说明-11"><a href="#options-说明-11" class="header-anchor">#</a> options 说明</h4> <ul><li>-f 通过 SIGKILL 信号删除一个正在运行的容器</li> <li>-l 移除容器间的网络，而非容器本身</li> <li>-v 删除与容器映射的目录</li></ul> <h4 id="示例-3"><a href="#示例-3" class="header-anchor">#</a> 示例</h4> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># 强制删除容器</span>
<span class="token function">docker</span> <span class="token function">rm</span> <span class="token parameter variable">-f</span> tomcat7

<span class="token comment"># 删除所有已停止的容器</span>
<span class="token function">docker</span> <span class="token function">rm</span> <span class="token variable"><span class="token variable">$(</span><span class="token function">docker</span> <span class="token function">ps</span> <span class="token parameter variable">-aq</span> <span class="token parameter variable">--filter</span> <span class="token string">&quot;status=exited&quot;</span><span class="token variable">)</span></span>

<span class="token comment"># 删除所有的容器</span>
<span class="token function">docker</span> <span class="token function">rm</span> <span class="token parameter variable">-f</span> <span class="token variable"><span class="token variable">$(</span><span class="token function">docker</span> <span class="token function">ps</span> <span class="token parameter variable">-aq</span><span class="token variable">)</span></span>       <span class="token comment">#删除所有的容器</span>
<span class="token function">docker</span> <span class="token function">ps</span> <span class="token parameter variable">-a</span> -q<span class="token operator">|</span><span class="token function">xargs</span> <span class="token function">docker</span> <span class="token function">rm</span>     <span class="token comment">#删除所有的容器</span>
</code></pre></div><h3 id="docker-top"><a href="#docker-top" class="header-anchor">#</a> docker top</h3> <p>显示容器正在运行的进程</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># 列出所有运行的进程</span>
<span class="token function">docker</span> <span class="token function">top</span> nginx

<span class="token comment"># 列出指定名称的正在运行的进程</span>
<span class="token function">docker</span> <span class="token function">top</span> nginx <span class="token operator">|</span> <span class="token function">grep</span> redis
</code></pre></div><h3 id="docker-logs"><a href="#docker-logs" class="header-anchor">#</a> docker logs</h3> <p>提取容器的日志</p> <h4 id="options-说明-12"><a href="#options-说明-12" class="header-anchor">#</a> options 说明</h4> <ul><li>--details 显示提供给日志的其他详细信息</li> <li>-f, --follow 跟踪日志输出</li> <li>--tail 仅列出最新 N 条容器日志</li> <li>-t, --timestamps 显示时间戳-</li></ul> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># 给日志加时间戳</span>
<span class="token function">docker</span> logs <span class="token parameter variable">-t</span> nginx1

<span class="token comment"># 打印最新 5 条日志</span>
<span class="token function">docker</span> logs <span class="token parameter variable">--tail</span> <span class="token number">5</span> nginx1

<span class="token comment"># 跟踪打印日志，日志刷新时，就能实时看到最新的日志了</span>
<span class="token function">docker</span> logs <span class="token parameter variable">-f</span> nginx1
</code></pre></div><h3 id="docker-port"><a href="#docker-port" class="header-anchor">#</a> docker port</h3> <p>列出指定的容器的端口映射</p> <p>语法格式: <code>docker port CONTAINER [PRIVATE_PORT[/PROTO]]</code></p> <ul><li>PRIVATE_PORT 指定查询的端口</li> <li>PROTO 协议类型（tcp、udp）</li></ul> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># 列出容器所有端口的映射</span>
 <span class="token function">docker</span> port gitlab

<span class="token comment"># 列出容器指定端口的映射</span>
<span class="token function">docker</span> port gitlab <span class="token number">80</span>

<span class="token comment"># 列出容器指定端口和协议的映射</span>
<span class="token function">docker</span> port gitlab <span class="token number">80</span>/tcp
</code></pre></div><h3 id="docker-export"><a href="#docker-export" class="header-anchor">#</a> docker export</h3> <p>将容器的文件系统导出为 tar 文件</p> <p>语法规则： <code>docker export [OPTIONS] CONTAINER</code></p> <h4 id="options-说明-13"><a href="#options-说明-13" class="header-anchor">#</a> options 说明</h4> <p>-o 将输入内容写到文件</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">docker</span> <span class="token builtin class-name">export</span> <span class="token parameter variable">-o</span> test.tar jenkins1
</code></pre></div><h3 id="docker-cp"><a href="#docker-cp" class="header-anchor">#</a> docker cp</h3> <p>在容器和主机之间复制文件/文件夹</p> <p>语法格式</p> <div class="language- extra-class"><pre class="language-text"><code>docker cp [OPTIONS] CONTAINER:SRC_PATH DEST_PATH|-
docker cp [OPTIONS] SRC_PATH|- CONTAINER:DEST_PATH
</code></pre></div><h4 id="重点-2"><a href="#重点-2" class="header-anchor">#</a> 重点</h4> <ul><li>容器 container 可以是正在运行或已停止的容器</li> <li>SRC_PATH 或 DEST_PATH 可以是文件或目录</li> <li>该命令会假定容器路径相对于容器的 /（根）目录</li> <li>而主机路径则是相对于执行 docker cp 命令的当前目录-</li></ul> <h4 id="src-path-和-dest-path-的讲解"><a href="#src-path-和-dest-path-的讲解" class="header-anchor">#</a> SRC_PATH 和 DEST_PATH 的讲解</h4> <p>SRC_PATH 指定一个文件</p> <ul><li><p>若 DEST_PATH 不存在</p></li> <li><p>创建 DEST_PATH 所需的文件夹，文件正常保存到 DEST_PATH 中</p></li> <li><p>若 DEST_PATH 不存在，并以 / 结尾</p></li> <li><p>错误：目标目录必须存在</p></li> <li><p>若 DEST_PATH 存在并且是一个文件</p></li> <li><p>目标被源文件的内容覆盖</p></li> <li><p>若 DEST_PATH 存在并且是目录</p></li> <li><p>使用 SRC_PATH 中的基本名称将文件复制到此目录中</p></li></ul> <p>SRC_PATH 指定目录</p> <ul><li><p>若 DEST_PATH 不存在</p></li> <li><p>将 DEST_PATH 创建为目录，并将源目录的内容复制到该目录中</p></li> <li><p>若 DEST_PATH 存在并且是一个文件</p></li> <li><p>错误：无法将目录复制到文件</p></li> <li><p>若 DEST_PATH 存在并且是目录</p></li> <li><p>SRC_PATH 不以 /. 结尾，源目录复制到此目录</p></li> <li><p>SRC_PATH 以 /. 结尾，源目录的内容被复制到该目录中</p></li></ul> <h4 id="从容器复制文件到主机"><a href="#从容器复制文件到主机" class="header-anchor">#</a> 从容器复制文件到主机</h4> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># 主机已存在的目录</span>
<span class="token function">docker</span> <span class="token function">cp</span> tomcat7:usr/local/tomcat/README.md ./

<span class="token comment"># 不存在的目录</span>
<span class="token function">docker</span> <span class="token function">cp</span> tomcat7:usr/local/tomcat/README.md test/ <span class="token comment"># 会报错</span>

<span class="token comment"># 已存在的文件</span>
<span class="token function">docker</span> <span class="token function">cp</span> tomcat7:usr/local/tomcat/README.md test.txt <span class="token comment"># 被覆盖</span>
</code></pre></div><h4 id="从主机复制文件到容器"><a href="#从主机复制文件到容器" class="header-anchor">#</a> 从主机复制文件到容器</h4> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">docker</span> <span class="token function">cp</span> test.txt tomcat7:/
</code></pre></div><h4 id="从主机复制目录到容器"><a href="#从主机复制目录到容器" class="header-anchor">#</a> 从主机复制目录到容器</h4> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># 目标目录不存在</span>
<span class="token function">docker</span> <span class="token function">cp</span> <span class="token builtin class-name">test</span> tomcat7:test/
</code></pre></div><h4 id="从容器复制目录到主机"><a href="#从容器复制目录到主机" class="header-anchor">#</a> 从容器复制目录到主机</h4> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">docker</span> <span class="token function">cp</span> tomcat7:/usr/local/tomcat/webapps.list /usr/local/
</code></pre></div><h3 id="docker-diff"><a href="#docker-diff" class="header-anchor">#</a> docker diff</h3> <p>检查容器文件系统上文件或目录的更改情况</p> <h4 id="结果字段说明"><a href="#结果字段说明" class="header-anchor">#</a> 结果字段说明</h4> <ul><li>A 添加了文件或目录</li> <li>D 删除了文件或目录</li> <li>C 修改了文件或目录</li></ul> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># 根据容器名字</span>
<span class="token function">docker</span> <span class="token function">diff</span> gitlab

<span class="token comment"># 根据容器 ID</span>
<span class="token function">docker</span> <span class="token function">diff</span> 78b4a7917f0d
</code></pre></div><h3 id="docker-commit"><a href="#docker-commit" class="header-anchor">#</a> docker commit</h3> <p>用于将一个运行中的容器的当前状态保存为一个新的 Docker <strong>镜像</strong>。这在你想要基于现有容器创建新的镜像时非常有用，尤其是当你在容器中进行了手动更改而想要保存这些更改时。</p> <p>语法格式：<code>docker commit [OPTIONS] CONTAINER [REPOSITORY[:TAG]]</code></p> <h4 id="options-说明-14"><a href="#options-说明-14" class="header-anchor">#</a> options 说明</h4> <ul><li>-a 提交镜像的作者</li> <li>-c，--change 更改 Dockerfile 指令来创建镜像</li> <li>-m 提交时的说明文字</li> <li>-p commit 时，将容器暂停</li></ul> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># 不带参数的例子</span>
<span class="token function">docker</span> commit jenkins1 jenkins/poloyy

<span class="token comment"># 带参数的例子</span>
<span class="token function">docker</span> commit <span class="token parameter variable">-a</span> fangxu <span class="token parameter variable">-m</span> <span class="token string">&quot;test&quot;</span> jenkins1 jenkins/poloyy
</code></pre></div><h2 id="资料"><a href="#资料" class="header-anchor">#</a> 资料</h2> <ul><li><a href="https://www.cnblogs.com/poloyy/p/13922325.html" target="_blank" rel="noopener noreferrer">Docker 命令大全<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/qiqihaobenben/Front-End-Basics/edit/master/docs/server/docker/docker-command.md" target="_blank" rel="noopener noreferrer">在 GitHub 上编辑此页</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">6/11/2024, 6:18:52 PM</span></div></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.f0c3bf6e.js" defer></script><script src="/assets/js/2.267df354.js" defer></script><script src="/assets/js/1.66cc43cf.js" defer></script><script src="/assets/js/244.ed576d71.js" defer></script>
  </body>
</html>
