<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Maven 基础 | Front-End-Basics</title>
    <meta name="generator" content="VuePress 1.9.10">
    
    <meta name="description" content="陈方旭的个人文档">
    
    <link rel="preload" href="/assets/css/0.styles.8f3dca9f.css" as="style"><link rel="preload" href="/assets/js/app.f0c3bf6e.js" as="script"><link rel="preload" href="/assets/js/2.267df354.js" as="script"><link rel="preload" href="/assets/js/1.66cc43cf.js" as="script"><link rel="preload" href="/assets/js/175.62da2bad.js" as="script"><link rel="prefetch" href="/assets/js/10.8ed5e327.js"><link rel="prefetch" href="/assets/js/100.ae5b3443.js"><link rel="prefetch" href="/assets/js/101.cc73b0f5.js"><link rel="prefetch" href="/assets/js/102.3f3114fb.js"><link rel="prefetch" href="/assets/js/103.8ff5fdac.js"><link rel="prefetch" href="/assets/js/104.b5debdc3.js"><link rel="prefetch" href="/assets/js/105.8da11418.js"><link rel="prefetch" href="/assets/js/106.4dbe9edc.js"><link rel="prefetch" href="/assets/js/107.181bae05.js"><link rel="prefetch" href="/assets/js/108.89a63e22.js"><link rel="prefetch" href="/assets/js/109.ce54155a.js"><link rel="prefetch" href="/assets/js/11.066e1c25.js"><link rel="prefetch" href="/assets/js/110.f2e608ea.js"><link rel="prefetch" href="/assets/js/111.42921b66.js"><link rel="prefetch" href="/assets/js/112.8da31ceb.js"><link rel="prefetch" href="/assets/js/113.5ac3f0d4.js"><link rel="prefetch" href="/assets/js/114.e056e614.js"><link rel="prefetch" href="/assets/js/115.cebf7fde.js"><link rel="prefetch" href="/assets/js/116.2b434a84.js"><link rel="prefetch" href="/assets/js/117.100c132f.js"><link rel="prefetch" href="/assets/js/118.a4afed9a.js"><link rel="prefetch" href="/assets/js/119.f0f1a25d.js"><link rel="prefetch" href="/assets/js/12.9fe465cb.js"><link rel="prefetch" href="/assets/js/120.376850c5.js"><link rel="prefetch" href="/assets/js/121.5dc1a6a2.js"><link rel="prefetch" href="/assets/js/122.363693fb.js"><link rel="prefetch" href="/assets/js/123.7258fb95.js"><link rel="prefetch" href="/assets/js/124.a4bd3167.js"><link rel="prefetch" href="/assets/js/125.8aa8db7c.js"><link rel="prefetch" href="/assets/js/126.2caa71e3.js"><link rel="prefetch" href="/assets/js/127.220486dd.js"><link rel="prefetch" href="/assets/js/128.b01fb70e.js"><link rel="prefetch" href="/assets/js/129.bd8c1b32.js"><link rel="prefetch" href="/assets/js/13.ceec992d.js"><link rel="prefetch" href="/assets/js/130.9b3fd30c.js"><link rel="prefetch" href="/assets/js/131.c1e91c2d.js"><link rel="prefetch" href="/assets/js/132.6d39b36b.js"><link rel="prefetch" href="/assets/js/133.cc4ee14d.js"><link rel="prefetch" href="/assets/js/134.3b031de3.js"><link rel="prefetch" href="/assets/js/135.329aa943.js"><link rel="prefetch" href="/assets/js/136.e97d2b91.js"><link rel="prefetch" href="/assets/js/137.70ad5edc.js"><link rel="prefetch" href="/assets/js/138.b2388813.js"><link rel="prefetch" href="/assets/js/139.260e94e8.js"><link rel="prefetch" href="/assets/js/14.6b9e2f92.js"><link rel="prefetch" href="/assets/js/140.d0752482.js"><link rel="prefetch" href="/assets/js/141.c3809389.js"><link rel="prefetch" href="/assets/js/142.909571e7.js"><link rel="prefetch" href="/assets/js/143.9c55503a.js"><link rel="prefetch" href="/assets/js/144.037eb178.js"><link rel="prefetch" href="/assets/js/145.b15eb629.js"><link rel="prefetch" href="/assets/js/146.92f941e0.js"><link rel="prefetch" href="/assets/js/147.ee679e8f.js"><link rel="prefetch" href="/assets/js/148.259bd94c.js"><link rel="prefetch" href="/assets/js/149.0560570b.js"><link rel="prefetch" href="/assets/js/15.d25af981.js"><link rel="prefetch" href="/assets/js/150.e0970997.js"><link rel="prefetch" href="/assets/js/151.8c91c562.js"><link rel="prefetch" href="/assets/js/152.b2680c3d.js"><link rel="prefetch" href="/assets/js/153.43d5659d.js"><link rel="prefetch" href="/assets/js/154.41332198.js"><link rel="prefetch" href="/assets/js/155.36a0da41.js"><link rel="prefetch" href="/assets/js/156.8d9c6ad6.js"><link rel="prefetch" href="/assets/js/157.016cc281.js"><link rel="prefetch" href="/assets/js/158.c846bda8.js"><link rel="prefetch" href="/assets/js/159.60ef4fd7.js"><link rel="prefetch" href="/assets/js/16.fe68c618.js"><link rel="prefetch" href="/assets/js/160.e000f0e7.js"><link rel="prefetch" href="/assets/js/161.f67efc97.js"><link rel="prefetch" href="/assets/js/162.4eadc328.js"><link rel="prefetch" href="/assets/js/163.39e9bbe6.js"><link rel="prefetch" href="/assets/js/164.8e990d4c.js"><link rel="prefetch" href="/assets/js/165.9cc5569d.js"><link rel="prefetch" href="/assets/js/166.dcfd67ce.js"><link rel="prefetch" href="/assets/js/167.0a12942f.js"><link rel="prefetch" href="/assets/js/168.db0cf4d8.js"><link rel="prefetch" href="/assets/js/169.0177438a.js"><link rel="prefetch" href="/assets/js/17.de0b324b.js"><link rel="prefetch" href="/assets/js/170.799f7bf1.js"><link rel="prefetch" href="/assets/js/171.72b504b4.js"><link rel="prefetch" href="/assets/js/172.3fedbd3b.js"><link rel="prefetch" href="/assets/js/173.9d2d86ef.js"><link rel="prefetch" href="/assets/js/174.1a15c5a7.js"><link rel="prefetch" href="/assets/js/176.fa85299a.js"><link rel="prefetch" href="/assets/js/177.a4f8a83d.js"><link rel="prefetch" href="/assets/js/178.3da2977b.js"><link rel="prefetch" href="/assets/js/179.5a0698c9.js"><link rel="prefetch" href="/assets/js/18.75c085a9.js"><link rel="prefetch" href="/assets/js/180.b3c22f44.js"><link rel="prefetch" href="/assets/js/181.258acfab.js"><link rel="prefetch" href="/assets/js/182.3b612a1c.js"><link rel="prefetch" href="/assets/js/183.04d35baf.js"><link rel="prefetch" href="/assets/js/184.2f6ebfb6.js"><link rel="prefetch" href="/assets/js/185.3d2ba522.js"><link rel="prefetch" href="/assets/js/186.85211aa8.js"><link rel="prefetch" href="/assets/js/187.3a727290.js"><link rel="prefetch" href="/assets/js/188.39112337.js"><link rel="prefetch" href="/assets/js/189.160e194c.js"><link rel="prefetch" href="/assets/js/19.7d112bce.js"><link rel="prefetch" href="/assets/js/190.c053d7a2.js"><link rel="prefetch" href="/assets/js/191.22cefdac.js"><link rel="prefetch" href="/assets/js/192.964f5e88.js"><link rel="prefetch" href="/assets/js/193.700abf9f.js"><link rel="prefetch" href="/assets/js/194.e267a0f1.js"><link rel="prefetch" href="/assets/js/195.e49141be.js"><link rel="prefetch" href="/assets/js/196.abd378ac.js"><link rel="prefetch" href="/assets/js/197.49b8f519.js"><link rel="prefetch" href="/assets/js/198.f60281e1.js"><link rel="prefetch" href="/assets/js/199.2444da81.js"><link rel="prefetch" href="/assets/js/20.81f5b440.js"><link rel="prefetch" href="/assets/js/200.54f5e6d4.js"><link rel="prefetch" href="/assets/js/201.132bab0f.js"><link rel="prefetch" href="/assets/js/202.cd5ef700.js"><link rel="prefetch" href="/assets/js/203.6524ae1d.js"><link rel="prefetch" href="/assets/js/204.79049883.js"><link rel="prefetch" href="/assets/js/205.b453ac0d.js"><link rel="prefetch" href="/assets/js/206.8e68e3cb.js"><link rel="prefetch" href="/assets/js/207.0dbf0bb5.js"><link rel="prefetch" href="/assets/js/208.a6f0aa62.js"><link rel="prefetch" href="/assets/js/209.5eb00898.js"><link rel="prefetch" href="/assets/js/21.b8f03079.js"><link rel="prefetch" href="/assets/js/210.5394d572.js"><link rel="prefetch" href="/assets/js/211.4d73566d.js"><link rel="prefetch" href="/assets/js/212.01ea7dd7.js"><link rel="prefetch" href="/assets/js/213.80261d17.js"><link rel="prefetch" href="/assets/js/214.42974ae8.js"><link rel="prefetch" href="/assets/js/215.6a9aefd7.js"><link rel="prefetch" href="/assets/js/216.71698897.js"><link rel="prefetch" href="/assets/js/217.cbdb7908.js"><link rel="prefetch" href="/assets/js/218.e1ca46a4.js"><link rel="prefetch" href="/assets/js/219.4bff8927.js"><link rel="prefetch" href="/assets/js/22.ce37cd53.js"><link rel="prefetch" href="/assets/js/220.d29e2c08.js"><link rel="prefetch" href="/assets/js/221.6a2c607c.js"><link rel="prefetch" href="/assets/js/222.7209db02.js"><link rel="prefetch" href="/assets/js/223.18f8b9df.js"><link rel="prefetch" href="/assets/js/224.52b820e0.js"><link rel="prefetch" href="/assets/js/225.46e90caa.js"><link rel="prefetch" href="/assets/js/226.63ed554a.js"><link rel="prefetch" href="/assets/js/227.7fafc4da.js"><link rel="prefetch" href="/assets/js/228.7706dc54.js"><link rel="prefetch" href="/assets/js/229.842a1964.js"><link rel="prefetch" href="/assets/js/23.87e7e45e.js"><link rel="prefetch" href="/assets/js/230.ddc0f55a.js"><link rel="prefetch" href="/assets/js/231.e72fa0a7.js"><link rel="prefetch" href="/assets/js/232.e15e10a1.js"><link rel="prefetch" href="/assets/js/233.9001d006.js"><link rel="prefetch" href="/assets/js/234.c55b49d9.js"><link rel="prefetch" href="/assets/js/235.da1bf5f9.js"><link rel="prefetch" href="/assets/js/236.9efb932c.js"><link rel="prefetch" href="/assets/js/237.67412574.js"><link rel="prefetch" href="/assets/js/238.24ef619f.js"><link rel="prefetch" href="/assets/js/239.1f2a6298.js"><link rel="prefetch" href="/assets/js/24.5aa30e8d.js"><link rel="prefetch" href="/assets/js/240.9c9279b1.js"><link rel="prefetch" href="/assets/js/241.695630cd.js"><link rel="prefetch" href="/assets/js/242.891e7aef.js"><link rel="prefetch" href="/assets/js/243.edd26862.js"><link rel="prefetch" href="/assets/js/244.ed576d71.js"><link rel="prefetch" href="/assets/js/245.d10042cf.js"><link rel="prefetch" href="/assets/js/246.d57006a7.js"><link rel="prefetch" href="/assets/js/247.b2d6742e.js"><link rel="prefetch" href="/assets/js/248.8b56d853.js"><link rel="prefetch" href="/assets/js/249.b8fc1805.js"><link rel="prefetch" href="/assets/js/25.5c7b2cfe.js"><link rel="prefetch" href="/assets/js/250.1aad43ae.js"><link rel="prefetch" href="/assets/js/251.be9db929.js"><link rel="prefetch" href="/assets/js/252.afedca09.js"><link rel="prefetch" href="/assets/js/253.c6e86855.js"><link rel="prefetch" href="/assets/js/254.90b4f52a.js"><link rel="prefetch" href="/assets/js/255.227c9c47.js"><link rel="prefetch" href="/assets/js/256.fe3714d4.js"><link rel="prefetch" href="/assets/js/257.3e5db4f7.js"><link rel="prefetch" href="/assets/js/258.29013d06.js"><link rel="prefetch" href="/assets/js/259.e9af4b51.js"><link rel="prefetch" href="/assets/js/26.5a8e32e6.js"><link rel="prefetch" href="/assets/js/260.9555612d.js"><link rel="prefetch" href="/assets/js/261.e8e200a0.js"><link rel="prefetch" href="/assets/js/262.0f393806.js"><link rel="prefetch" href="/assets/js/263.42b99650.js"><link rel="prefetch" href="/assets/js/264.5e36cccd.js"><link rel="prefetch" href="/assets/js/265.e7759e0e.js"><link rel="prefetch" href="/assets/js/266.2bce58fa.js"><link rel="prefetch" href="/assets/js/267.6e2a5a40.js"><link rel="prefetch" href="/assets/js/27.997b1485.js"><link rel="prefetch" href="/assets/js/28.ef6638c6.js"><link rel="prefetch" href="/assets/js/29.c9d728b9.js"><link rel="prefetch" href="/assets/js/3.dc3407e1.js"><link rel="prefetch" href="/assets/js/30.d873fb03.js"><link rel="prefetch" href="/assets/js/31.2bf741ce.js"><link rel="prefetch" href="/assets/js/32.551ac32b.js"><link rel="prefetch" href="/assets/js/33.b6573b5c.js"><link rel="prefetch" href="/assets/js/34.b46900a8.js"><link rel="prefetch" href="/assets/js/35.f131466c.js"><link rel="prefetch" href="/assets/js/36.89942ede.js"><link rel="prefetch" href="/assets/js/37.0e54922b.js"><link rel="prefetch" href="/assets/js/38.36f714a1.js"><link rel="prefetch" href="/assets/js/39.2256d2d3.js"><link rel="prefetch" href="/assets/js/4.43d53c19.js"><link rel="prefetch" href="/assets/js/40.784c879e.js"><link rel="prefetch" href="/assets/js/41.8bac5a7b.js"><link rel="prefetch" href="/assets/js/42.b6e7fc8b.js"><link rel="prefetch" href="/assets/js/43.ab92dcea.js"><link rel="prefetch" href="/assets/js/44.666a8d67.js"><link rel="prefetch" href="/assets/js/45.23a7d54d.js"><link rel="prefetch" href="/assets/js/46.c90bff29.js"><link rel="prefetch" href="/assets/js/47.b109dec7.js"><link rel="prefetch" href="/assets/js/48.7f766765.js"><link rel="prefetch" href="/assets/js/49.0a8e763d.js"><link rel="prefetch" href="/assets/js/5.b6321aed.js"><link rel="prefetch" href="/assets/js/50.686d1521.js"><link rel="prefetch" href="/assets/js/51.9936e373.js"><link rel="prefetch" href="/assets/js/52.f0b789de.js"><link rel="prefetch" href="/assets/js/53.5438164d.js"><link rel="prefetch" href="/assets/js/54.ec6f1f74.js"><link rel="prefetch" href="/assets/js/55.002caceb.js"><link rel="prefetch" href="/assets/js/56.d7896533.js"><link rel="prefetch" href="/assets/js/57.560f886c.js"><link rel="prefetch" href="/assets/js/58.ede39d55.js"><link rel="prefetch" href="/assets/js/59.f8e25f0e.js"><link rel="prefetch" href="/assets/js/6.8dc86351.js"><link rel="prefetch" href="/assets/js/60.16e85fb0.js"><link rel="prefetch" href="/assets/js/61.c4a68cdb.js"><link rel="prefetch" href="/assets/js/62.b8285ec7.js"><link rel="prefetch" href="/assets/js/63.cea2c4d9.js"><link rel="prefetch" href="/assets/js/64.33d06366.js"><link rel="prefetch" href="/assets/js/65.7dacc788.js"><link rel="prefetch" href="/assets/js/66.1c982721.js"><link rel="prefetch" href="/assets/js/67.5509334e.js"><link rel="prefetch" href="/assets/js/68.f9deb190.js"><link rel="prefetch" href="/assets/js/69.fd052a09.js"><link rel="prefetch" href="/assets/js/7.4de4dc57.js"><link rel="prefetch" href="/assets/js/70.b36ecec1.js"><link rel="prefetch" href="/assets/js/71.09472ede.js"><link rel="prefetch" href="/assets/js/72.7fc03c28.js"><link rel="prefetch" href="/assets/js/73.1df4ed7b.js"><link rel="prefetch" href="/assets/js/74.eef842dd.js"><link rel="prefetch" href="/assets/js/75.a4642706.js"><link rel="prefetch" href="/assets/js/76.2921120f.js"><link rel="prefetch" href="/assets/js/77.8959d3b8.js"><link rel="prefetch" href="/assets/js/78.15af67c9.js"><link rel="prefetch" href="/assets/js/79.ca2b3995.js"><link rel="prefetch" href="/assets/js/80.86253068.js"><link rel="prefetch" href="/assets/js/81.4dfb5100.js"><link rel="prefetch" href="/assets/js/82.40f05690.js"><link rel="prefetch" href="/assets/js/83.ae59f017.js"><link rel="prefetch" href="/assets/js/84.a16c2086.js"><link rel="prefetch" href="/assets/js/85.78764153.js"><link rel="prefetch" href="/assets/js/86.6da75781.js"><link rel="prefetch" href="/assets/js/87.9093c83e.js"><link rel="prefetch" href="/assets/js/88.1b71ff61.js"><link rel="prefetch" href="/assets/js/89.c3298594.js"><link rel="prefetch" href="/assets/js/90.dbab72f7.js"><link rel="prefetch" href="/assets/js/91.201c3950.js"><link rel="prefetch" href="/assets/js/92.23d20e66.js"><link rel="prefetch" href="/assets/js/93.35dc98bf.js"><link rel="prefetch" href="/assets/js/94.da768453.js"><link rel="prefetch" href="/assets/js/95.9767a2ff.js"><link rel="prefetch" href="/assets/js/96.890fcdc4.js"><link rel="prefetch" href="/assets/js/97.4bdcd3d5.js"><link rel="prefetch" href="/assets/js/98.972a16fd.js"><link rel="prefetch" href="/assets/js/99.44f9b5d3.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.a900b7e8.js">
    <link rel="stylesheet" href="/assets/css/0.styles.8f3dca9f.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/logo.png" alt="Front-End-Basics" class="logo"> <span class="site-name can-hide">Front-End-Basics</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/article/" class="nav-link">
  捡贝壳
</a></div> <a href="https://github.com/qiqihaobenben/Front-End-Basics" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/article/" class="nav-link">
  捡贝壳
</a></div> <a href="https://github.com/qiqihaobenben/Front-End-Basics" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>前端</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/html/global-attr.html" class="sidebar-link">HTML</a></li><li><a href="/css/theory/typesetting.html" class="sidebar-link">CSS</a></li><li><a href="/javascript/utility/lexical-grammar.html" class="sidebar-link">JavaScript</a></li><li><a href="/infrastructure/vscode-code-format.html" class="sidebar-link">基础建设和工程化</a></li><li><a href="/career/plan-2022.html" class="sidebar-link">职业发展</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>框架</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>移动端</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>服务端</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/nodejs/basic.html" class="sidebar-link">NodeJS</a></li><li><a href="/network-basics/http/into.html" class="sidebar-link">网络基础</a></li><li><a href="/database/mysql/mysql.html" class="sidebar-link">数据存储</a></li><li><a href="/server/linux/computer.html" class="sidebar-link">服务器运维</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>开发工具</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>认知</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="maven-基础"><a href="#maven-基础" class="header-anchor">#</a> Maven 基础</h1> <p>Maven 是一个 Java 项目管理和构建工具，它可以定义项目结构、项目依赖，并使用统一的方式进行自动化构建，是 Java 项目不可缺少的工具。</p> <h2 id="为什么需要-maven"><a href="#为什么需要-maven" class="header-anchor">#</a> 为什么需要 Maven</h2> <p>在不使用 Maven 之前，先来看看一个 Java 项目需要的东西。</p> <p>首先，我们需要确定引入哪些依赖包。例如，如果我们需要用到 commons logging，我们就必须把 commons logging 的 jar 包放入 classpath。如果我们还需要 log4j，就需要把 log4j 相关的 jar 包都放到 classpath 中。这些就是<strong>依赖包的管理</strong>。</p> <p>其次，我们要确定<strong>项目的目录结构</strong>。例如，src 目录存放 Java 源码，resources 目录存放配置文件，bin 目录存放编译生成的.class 文件。</p> <p>此外，我们还需要<strong>配置环境</strong>，例如 JDK 的版本，编译打包的流程，当前代码的版本号。</p> <p>最后，除了使用 Eclipse 这样的 IDE 进行编译外，我们还必须能通过<strong>命令行工具进行编译</strong>，才能够让项目在一个独立的服务器上编译、测试、部署。</p> <p>这些工作难度不大，但是非常琐碎且耗时。如果每一个项目都自己搞一套配置，肯定会一团糟。我们需要的是一个标准化的 Java 项目管理和构建工具。</p> <p>Maven 就是是专门为 Java 项目打造的管理和构建工具，它的主要功能有：</p> <ul><li>提供了一套标准化的项目结构；</li> <li>提供了一套标准化的构建流程（编译，测试，打包，发布……）；</li> <li>提供了一套依赖管理机制。</li></ul> <h2 id="maven-的主要功能"><a href="#maven-的主要功能" class="header-anchor">#</a> Maven 的主要功能</h2> <p>主要功能如下：</p> <ul><li>项目结构标准化：Maven 为 Java 项目提供了一套标准化的目录结构，例如 <code>src/main/java</code> 用于存放 Java 源码，<code>src/main/resources</code> 用于存放配置文件，<code>src/test/java</code> 用于存放测试代码，<code>src/test/resources</code> 用于存放测试配置文件。</li> <li>构建流程标准化：Maven 提供了一套标准化的构建流程，包括编译、测试、打包、发布等步骤。通过配置 <code>pom.xml</code> 文件，可以自定义构建流程。</li> <li>依赖管理：Maven 提供了一套依赖管理机制，可以方便地管理项目依赖。通过在 <code>pom.xml</code> 文件中声明依赖，Maven 会自动下载并管理这些依赖。</li> <li>插件机制：Maven 提供了丰富的插件机制，可以方便地扩展构建功能。例如，可以使用 <code>maven-compiler-plugin</code> 插件来配置编译选项，使用 <code>maven-surefire-plugin</code> 插件来配置测试选项。</li> <li>仓库管理：Maven 提供了仓库管理机制，可以方便地管理项目依赖。Maven 会从中央仓库、本地仓库和远程仓库中下载依赖。</li></ul> <h3 id="maven-的项目目录"><a href="#maven-的项目目录" class="header-anchor">#</a> Maven 的项目目录</h3> <p>一个使用 Maven 管理的普通的 Java 项目，它的目录结构默认如下：</p> <div class="language- extra-class"><pre class="language-text"><code>a-maven-project
├── pom.xml
├── src
│ ├── main
│ │ ├── java
│ │ └── resources
│ └── test
│ | ├── java
│ | └── resources
└── target
</code></pre></div><p>项目的根目录 a-maven-project 是项目名，它有一个项目描述文件 pom.xml，存放 Java 源码的目录是 src/main/java，存放资源文件的目录是 src/main/resources，存放测试源码的目录是 src/test/java，存放测试资源的目录是 src/test/resources，最后，所有编译、打包生成的文件都放在 target 目录里。这些就是一个 Maven 项目的标准目录结构。</p> <p>所有的目录结构都是约定好的标准结构，我们千万不要随意修改目录结构。使用标准结构不需要做任何配置，Maven 就可以正常使用。</p> <h3 id="依赖管理"><a href="#依赖管理" class="header-anchor">#</a> 依赖管理</h3> <p>设想一下手动安装依赖的过程，例如安装 Unit，JavaMail，MySQL 驱动等等，方法是通过搜索引擎搜索到项目的官网，然后手动下载 zip 包，解压，放入 classpath。如果依赖包还有依赖，还得重复这些步骤，这个过程非常繁琐。</p> <p>aven 解决了依赖管理问题。例如，我们的项目依赖 abc 这个 jar 包，而 abc 又依赖 xyz 这个 jar 包。当我们声明了 abc 的依赖时，Maven 自动把 abc 和 xyz 都加入了我们的项目依赖，不需要我们自己去研究 abc 是否需要依赖 xyz。</p> <p>因此，Maven 其中一个作用就是解决依赖管理。我们声明了自己的项目需要 abc，Maven 会自动导入 abc 的 jar 包，再判断出 abc 需要 xyz，又会自动导入 xyz 的 jar 包，这样，最终我们的项目会依赖 abc 和 xyz 两个 jar 包。</p> <p>Maven 的依赖管理主要通过 <code>pom.xml</code> 文件来实现。在 <code>pom.xml</code> 文件中，可以声明项目的依赖，Maven 会自动下载并管理这些依赖。</p> <p>一个复杂依赖示例：</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-web<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.4.2.RELEASE<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>当我们声明一个 spring-boot-starter-web 依赖时，Maven 会自动解析并判断最终需要大概二三十个其他依赖,如果我们自己去手动管理这些依赖是非常费时费力的，而且出错的概率很大。</p> <div class="language- extra-class"><pre class="language-text"><code>spring-boot-starter-web
  spring-boot-starter
    spring-boot
    sprint-boot-autoconfigure
    spring-boot-starter-logging
      logback-classic
        logback-core
        slf4j-api
      jcl-over-slf4j
        slf4j-api
      jul-to-slf4j
        slf4j-api
      log4j-over-slf4j
        slf4j-api
    spring-core
    snakeyaml
  spring-boot-starter-tomcat
    tomcat-embed-core
    tomcat-embed-el
    tomcat-embed-websocket
      tomcat-embed-core
  jackson-databind
  ...
</code></pre></div><h4 id="唯一-id-确定依赖"><a href="#唯一-id-确定依赖" class="header-anchor">#</a> 唯一 ID 确定依赖</h4> <p>对于某个依赖，Maven 只需要 3 个变量即可唯一确定某个 jar 包：</p> <ul><li>groupId：属于组织的名称，类似 Java 的包名；</li> <li>artifactId：该 jar 包自身的名称，类似 Java 的类名；</li> <li>version：该 jar 包的版本。</li></ul> <p>通过上述 3 个变量，即可唯一确定某个 jar 包。Maven 通过对 jar 包进行 PGP 签名确保任何一个 jar 包一经发布就无法修改。修改已发布 jar 包的唯一方法是发布一个新版本。</p> <p>因此，某个 jar 包一旦被 Maven 下载过，即可永久地安全缓存在本地。</p> <p><strong>注：只有以-SNAPSHOT 结尾的版本号会被 Maven 视为开发版本，开发版本每次都会重复下载，这种 SNAPSHOT 版本只能用于内部私有的 Maven repo，公开发布的版本不允许出现 SNAPSHOT。</strong></p> <h4 id="依赖范围"><a href="#依赖范围" class="header-anchor">#</a> 依赖范围</h4> <p>在 <code>pom.xml</code> 文件中声明依赖时，可以指定依赖的范围。依赖范围决定了依赖在项目中的使用范围。</p> <p>Maven 支持以下几种依赖范围：</p> <ul><li><code>compile</code>：默认范围，编译、测试和运行时都会使用该 jar 包。</li> <li><code>provided</code>：编译和测试时使用，运行时由容器（JDK 或某个服务器）提供。</li> <li><code>runtime</code>：测试和运行时使用，编译时不使用。</li> <li><code>test</code>：测试时使用，编译和运行时不使用。</li> <li><code>system</code>：类似于 <code>provided</code>，但需要显式指定依赖的路径。</li> <li><code>import</code>：仅在 <code>&lt;dependencyManagement&gt;</code> 中使用，用于导入其他 <code>pom.xml</code> 文件中的依赖管理配置。</li></ul> <p>其中，默认的 compile 是最常用的，Maven 会把这种类型的依赖直接放入 classpath。</p> <p>test 依赖表示仅在测试时使用，正常运行时并不需要。最常用的 test 依赖就是 JUnit：</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.junit.jupiter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>junit-jupiter-api<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>5.3.2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">&gt;</span></span>test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>runtime 依赖表示编译时不需要，但运行时需要。最典型的 runtime 依赖是 JDBC 驱动，例如 MySQL 驱动：</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>mysql<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>mysql-connector-java<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>5.1.48<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">&gt;</span></span>runtime<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>provided 依赖表示编译时需要，但运行时不需要。最典型的 provided 依赖是 Servlet API，编译的时候需要，但是运行时，Servlet 服务器内置了相关的 jar，所以运行期不需要：</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>jakarta.servlet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>jakarta.servlet-api<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>4.0.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">&gt;</span></span>provided<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h4 id="依赖排除"><a href="#依赖排除" class="header-anchor">#</a> 依赖排除</h4> <p>在 <code>pom.xml</code> 文件中，使用 Maven 来管理项目依赖时，可能会遇到某些库引入了你不需要的传递性依赖。为了避免引入这些不必要的依赖，可以在声明依赖时使用 <code>&lt;exclusions&gt;</code> 元素来排除特定的依赖。</p> <h4 id="如何配置-exclusions"><a href="#如何配置-exclusions" class="header-anchor">#</a> 如何配置 <code>exclusions</code></h4> <p>以下是一个完整的示例，展示如何在 <code>pom.xml</code> 中排除某个传递性依赖：</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>com.example<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>example-library<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.0.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>exclusions</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>exclusion</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>com.unwanted<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>unwanted-library<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>exclusion</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>exclusions</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h5 id="解释"><a href="#解释" class="header-anchor">#</a> 解释</h5> <ul><li><strong><code>&lt;dependency&gt;</code></strong>：定义一个项目依赖。</li> <li><strong><code>&lt;groupId&gt;</code></strong>：依赖的组织标识符。</li> <li><strong><code>&lt;artifactId&gt;</code></strong>：依赖的项目名称。</li> <li><strong><code>&lt;version&gt;</code></strong>：依赖的版本号。</li> <li><strong><code>&lt;exclusions&gt;</code></strong>：用于排除特定传递性依赖的容器元素。</li> <li><strong><code>&lt;exclusion&gt;</code></strong>：指定要排除的单个依赖。
<ul><li><strong><code>&lt;groupId&gt;</code></strong>：要排除的依赖的组织标识符。</li> <li><strong><code>&lt;artifactId&gt;</code></strong>：要排除的依赖的项目名称。</li></ul></li></ul> <h5 id="使用场景"><a href="#使用场景" class="header-anchor">#</a> 使用场景</h5> <ul><li><strong>避免冲突</strong>：多个依赖可能引入不同版本的同一库，导致版本冲突。</li> <li><strong>减少体积</strong>：排除不必要的库，减小应用体积，提高性能。</li> <li><strong>安全性</strong>：移除已知存在漏洞的传递性依赖。</li></ul> <h3 id="构建流程标准化"><a href="#构建流程标准化" class="header-anchor">#</a> 构建流程标准化</h3> <p>Maven 不但有标准化的项目结构，而且还有一套标准化的构建流程，可以自动化实现编译，打包，发布，等等。</p> <h4 id="lifecycle、phase-和-goal"><a href="#lifecycle、phase-和-goal" class="header-anchor">#</a> Lifecycle、Phase 和 Goal</h4> <p>Maven 的生命周期（lifecycle）是由一系列阶段（phase）组成的，每个阶段又包含了一个或多个目标（goal）。Maven 的构建过程就是按照生命周期、阶段和目标的顺序依次执行的。</p> <ul><li>lifecycle 它包含一个或多个 phase，相当于 Java 的 package；</li> <li>phase 它包含一个或多个 goal，相当于 Java 的 class；</li> <li>goal 它其实才是真正干活的，相当于 class 的 method。</li></ul> <h5 id="goal"><a href="#goal" class="header-anchor">#</a> Goal</h5> <p>执行一个 phase 会触发一个或多个 goal，goal 的命名总是 abc:xyz 这种形式。</p> <table><thead><tr><th style="text-align:left;">执行的 Phase</th> <th style="text-align:left;">对应执行的 Goal</th></tr></thead> <tbody><tr><td style="text-align:left;">compile</td> <td style="text-align:left;">compiler:compile</td></tr> <tr><td style="text-align:left;">test</td> <td style="text-align:left;">surefire:test</td></tr></tbody></table> <p>大多数情况，我们只要指定 phase，就默认执行这些 phase 默认绑定的 goal，只有少数情况，我们可以直接指定运行一个 goal，例如，启动 Tomcat 服务器：</p> <div class="language- extra-class"><pre class="language-text"><code>mvn tomcat:run
</code></pre></div><p>所以通常情况，我们总是执行 phase 默认绑定的 goal，因此不必指定 goal。</p> <h4 id="以内置的生命周期default为例-它包含以下阶段"><a href="#以内置的生命周期default为例-它包含以下阶段" class="header-anchor">#</a> 以内置的生命周期<code>default</code>为例，它包含以下阶段：</h4> <p>在 Maven 的构建生命周期中，<code>default</code> 生命周期是最核心的部分，涵盖了从验证到部署的完整过程。每个阶段都有特定的目标（goal），这些目标由 Maven 插件执行。以下是 <code>default</code> 生命周期中每个阶段的详细说明：</p> <h5 id="_1-validate"><a href="#_1-validate" class="header-anchor">#</a> 1. <code>validate</code></h5> <ul><li><strong>作用</strong>：验证项目的配置信息是否正确，并确保所有必要的信息可用。</li> <li><strong>常用 goal</strong>：没有特定的默认 goal，通常根据具体插件和配置执行自定义的验证。</li></ul> <h5 id="_2-initialize"><a href="#_2-initialize" class="header-anchor">#</a> 2. <code>initialize</code></h5> <ul><li><strong>作用</strong>：初始化构建状态。例如，设置属性或环境变量。</li> <li><strong>常用 goal</strong>：没有特定的默认 goal，通常用于插件的初始化步骤。</li></ul> <h5 id="_3-generate-sources"><a href="#_3-generate-sources" class="header-anchor">#</a> 3. <code>generate-sources</code></h5> <ul><li><strong>作用</strong>：生成源代码。</li> <li><strong>常用 goal</strong>：通常由代码生成插件执行，如 <code>antlr:generate</code>。</li></ul> <h5 id="_4-process-sources"><a href="#_4-process-sources" class="header-anchor">#</a> 4. <code>process-sources</code></h5> <ul><li><strong>作用</strong>：处理生成的源代码，可能包括代码格式化或其他处理。</li> <li><strong>常用 goal</strong>：没有特定的默认 goal，通常由代码处理插件执行。</li></ul> <h5 id="_5-generate-resources"><a href="#_5-generate-resources" class="header-anchor">#</a> 5. <code>generate-resources</code></h5> <ul><li><strong>作用</strong>：生成资源文件。</li> <li><strong>常用 goal</strong>：没有特定的默认 goal，通常由资源生成插件执行。</li></ul> <h5 id="_6-process-resources"><a href="#_6-process-resources" class="header-anchor">#</a> 6. <code>process-resources</code></h5> <ul><li><strong>作用</strong>：复制和处理资源文件到目标目录。</li> <li><strong>常用 goal</strong>：<code>resources:resources</code>，将资源文件复制到 <code>target</code> 目录。</li></ul> <h5 id="_7-compile"><a href="#_7-compile" class="header-anchor">#</a> 7. <code>compile</code></h5> <ul><li><strong>作用</strong>：编译项目的源代码。</li> <li><strong>常用 goal</strong>：<code>compiler:compile</code>，将 <code>.java</code> 源文件编译为 <code>.class</code> 文件。</li></ul> <h5 id="_8-process-classes"><a href="#_8-process-classes" class="header-anchor">#</a> 8. <code>process-classes</code></h5> <ul><li><strong>作用</strong>：处理编译后的类文件。</li> <li><strong>常用 goal</strong>：没有特定的默认 goal，通常用于字节码增强等。</li></ul> <h5 id="_9-generate-test-sources"><a href="#_9-generate-test-sources" class="header-anchor">#</a> 9. <code>generate-test-sources</code></h5> <ul><li><strong>作用</strong>：生成测试源代码。</li> <li><strong>常用 goal</strong>：通常由测试代码生成插件执行。</li></ul> <h5 id="_10-process-test-sources"><a href="#_10-process-test-sources" class="header-anchor">#</a> 10. <code>process-test-sources</code></h5> <ul><li><strong>作用</strong>：处理测试源代码。</li> <li><strong>常用 goal</strong>：没有特定的默认 goal，通常由测试代码处理插件执行。</li></ul> <h5 id="_11-generate-test-resources"><a href="#_11-generate-test-resources" class="header-anchor">#</a> 11. <code>generate-test-resources</code></h5> <ul><li><strong>作用</strong>：生成测试资源文件。</li> <li><strong>常用 goal</strong>：没有特定的默认 goal，通常由测试资源生成插件执行。</li></ul> <h5 id="_12-process-test-resources"><a href="#_12-process-test-resources" class="header-anchor">#</a> 12. <code>process-test-resources</code></h5> <ul><li><strong>作用</strong>：复制和处理测试资源文件到测试目标目录。</li> <li><strong>常用 goal</strong>：<code>resources:testResources</code>，将测试资源文件复制到 <code>target</code> 目录。</li></ul> <h5 id="_13-test-compile"><a href="#_13-test-compile" class="header-anchor">#</a> 13. <code>test-compile</code></h5> <ul><li><strong>作用</strong>：编译测试源代码。</li> <li><strong>常用 goal</strong>：<code>compiler:testCompile</code>，编译测试 <code>.java</code> 文件。</li></ul> <h5 id="_14-process-test-classes"><a href="#_14-process-test-classes" class="header-anchor">#</a> 14. <code>process-test-classes</code></h5> <ul><li><strong>作用</strong>：处理编译后的测试类文件。</li> <li><strong>常用 goal</strong>：没有特定的默认 goal，通常用于测试字节码增强等。</li></ul> <h5 id="_15-test"><a href="#_15-test" class="header-anchor">#</a> 15. <code>test</code></h5> <ul><li><strong>作用</strong>：运行测试。</li> <li><strong>常用 goal</strong>：<code>surefire:test</code>，执行单元测试。</li></ul> <h5 id="_16-prepare-package"><a href="#_16-prepare-package" class="header-anchor">#</a> 16. <code>prepare-package</code></h5> <ul><li><strong>作用</strong>：为打包准备额外的步骤。</li> <li><strong>常用 goal</strong>：没有特定的默认 goal，通常用于预处理。</li></ul> <h5 id="_17-package"><a href="#_17-package" class="header-anchor">#</a> 17. <code>package</code></h5> <ul><li><strong>作用</strong>：将编译好的代码打包成可分发的格式（如 JAR 或 WAR）。</li> <li><strong>常用 goal</strong>：<code>jar:jar</code>，<code>war:war</code>。</li></ul> <h5 id="_18-pre-integration-test"><a href="#_18-pre-integration-test" class="header-anchor">#</a> 18. <code>pre-integration-test</code></h5> <ul><li><strong>作用</strong>：执行集成测试前的必要步骤。</li> <li><strong>常用 goal</strong>：通常用于启动需要的环境或服务。</li></ul> <h5 id="_19-integration-test"><a href="#_19-integration-test" class="header-anchor">#</a> 19. <code>integration-test</code></h5> <ul><li><strong>作用</strong>：运行集成测试。</li> <li><strong>常用 goal</strong>：可能使用 <code>failsafe:integration-test</code>。</li></ul> <h5 id="_20-post-integration-test"><a href="#_20-post-integration-test" class="header-anchor">#</a> 20. <code>post-integration-test</code></h5> <ul><li><strong>作用</strong>：集成测试后进行清理。</li> <li><strong>常用 goal</strong>：通常用于停止服务或清理环境。</li></ul> <h5 id="_21-verify"><a href="#_21-verify" class="header-anchor">#</a> 21. <code>verify</code></h5> <ul><li><strong>作用</strong>：运行任何检查，验证打包结果。</li> <li><strong>常用 goal</strong>：可能使用 <code>verifier:verify</code>。</li></ul> <h5 id="_22-install"><a href="#_22-install" class="header-anchor">#</a> 22. <code>install</code></h5> <ul><li><strong>作用</strong>：将包安装到本地 Maven 仓库。</li> <li><strong>常用 goal</strong>：<code>install:install</code>。</li></ul> <h5 id="_23-deploy"><a href="#_23-deploy" class="header-anchor">#</a> 23. <code>deploy</code></h5> <ul><li><strong>作用</strong>：将包部署到远程仓库，以供共享。</li> <li><strong>常用 goal</strong>：<code>deploy:deploy</code>。</li></ul> <p>这些阶段和相应的 goals 组成了 Maven 的构建生命周期，可以根据需要在 <code>pom.xml</code> 中配置和扩展，以满足项目的特定需求。每个阶段的执行可以由插件定义和扩展，从而实现自定义的构建过程。</p> <p>如果我们运行 <code>mvn package</code>，Maven 就会执行 <code>default</code> 生命周期，它会从开始一直运行到 <code>package</code> 这个 phase 为止。</p> <div class="language- extra-class"><pre class="language-text"><code>validate
initialize
...
prepare-package
package
</code></pre></div><p>如果我们运行 <code>mvn compile</code>，Maven 也会执行 <code>default</code> 生命周期，但这次他只会运行到 <code>compile</code> 这个 phase 为止。</p> <div class="language- extra-class"><pre class="language-text"><code>validate
initialize
...
process-resources
compile
</code></pre></div><h4 id="maven-另一个常用的生命周期是-clean-它会执行-3-个-phase"><a href="#maven-另一个常用的生命周期是-clean-它会执行-3-个-phase" class="header-anchor">#</a> Maven 另一个常用的生命周期是 <code>clean</code>，它会执行 3 个 phase</h4> <p>Maven 的 <code>clean</code> 生命周期主要用于清理项目的构建输出，即删除生成的文件和目录。这一生命周期包括三个阶段（phase），它们依次执行，确保清理操作的完整性和有效性。以下是 <code>clean</code> 生命周期中的三个阶段的详细介绍：</p> <h5 id="_1-pre-clean"><a href="#_1-pre-clean" class="header-anchor">#</a> 1. <code>pre-clean</code></h5> <ul><li><strong>作用</strong>：在清理之前执行的步骤。主要用于执行一些准备工作或设置清理前的条件。</li> <li><strong>常用 goal</strong>：通常没有特定的默认 goal，用户可以根据需要自定义一些准备步骤。</li></ul> <h5 id="_2-clean"><a href="#_2-clean" class="header-anchor">#</a> 2. <code>clean</code></h5> <ul><li><strong>作用</strong>：执行实际的清理操作。这是 <code>clean</code> 生命周期的核心阶段，负责删除项目构建过程中生成的文件和目录，通常是 <code>target</code> 目录。</li> <li><strong>常用 goal</strong>：<code>maven-clean-plugin:clean</code>，它删除默认构建目录中的所有文件和子目录，确保项目构建环境的干净整洁。</li></ul> <h5 id="_3-post-clean"><a href="#_3-post-clean" class="header-anchor">#</a> 3. <code>post-clean</code></h5> <ul><li><strong>作用</strong>：在清理之后执行的步骤。用于进行后续的处理或记录日志。</li> <li><strong>常用 goal</strong>：通常没有特定的默认 goal，用户可以根据需要添加一些后处理步骤。</li></ul> <h5 id="使用示例"><a href="#使用示例" class="header-anchor">#</a> 使用示例</h5> <p>在命令行中运行 <code>clean</code> 生命周期的命令：</p> <div class="language-bash extra-class"><pre class="language-bash"><code>mvn clean
</code></pre></div><p>这条命令会依次执行上述三个阶段，确保项目的构建目录被清理干净，以便进行新的构建。</p> <h5 id="扩展"><a href="#扩展" class="header-anchor">#</a> 扩展</h5> <ul><li><p><strong>自定义清理操作</strong>：虽然 <code>maven-clean-plugin</code> 已经提供了基础的清理功能，但用户可以通过插件配置在 <code>pom.xml</code> 中添加自定义的清理操作。例如，删除特定的日志文件或临时文件。</p></li> <li><p><strong>与其他生命周期结合使用</strong>：<code>clean</code> 生命周期常与 <code>default</code> 生命周期结合使用，例如 <code>mvn clean install</code>，以确保在每次构建之前都进行清理操作。</p></li></ul> <h2 id="maven-的基本命令"><a href="#maven-的基本命令" class="header-anchor">#</a> Maven 的基本命令</h2> <p>Maven 是一个强大的项目管理和构建工具，提供了多种命令来管理项目的生命周期、依赖和构建过程。以下是一些常用的 Maven 命令及其用途：</p> <h3 id="常用-maven-命令"><a href="#常用-maven-命令" class="header-anchor">#</a> 常用 Maven 命令</h3> <ol><li><p><strong><code>mvn clean</code></strong></p> <ul><li>清理项目，删除 <code>target</code> 目录及其所有内容，通常用于清除旧的构建结果。</li></ul></li> <li><p><strong><code>mvn compile</code></strong></p> <ul><li>编译项目的源代码，将 <code>.java</code> 文件编译为 <code>.class</code> 文件。</li></ul></li> <li><p><strong><code>mvn test</code></strong></p> <ul><li>运行项目中的测试用例。Maven 会使用测试框架（如 JUnit 或 TestNG）执行测试。</li></ul></li> <li><p><strong><code>mvn package</code></strong></p> <ul><li>编译项目并打包为 JAR 或 WAR 文件，存放在 <code>target</code> 目录下。</li></ul></li> <li><p><strong><code>mvn install</code></strong></p> <ul><li>将项目的构建输出（JAR、WAR 等）安装到本地仓库中，以便其他项目使用。</li></ul></li> <li><p><strong><code>mvn deploy</code></strong></p> <ul><li>将项目打包并发布到远程仓库，通常用于项目发布阶段。</li></ul></li> <li><p><strong><code>mvn validate</code></strong></p> <ul><li>验证项目是否正确并且所有必要信息可用。</li></ul></li> <li><p><strong><code>mvn site</code></strong></p> <ul><li>生成项目站点文档，包括项目报告、代码覆盖率、依赖关系等。</li></ul></li> <li><p><strong><code>mvn dependency:resolve</code></strong></p> <ul><li>解析项目的所有依赖并下载到本地仓库。</li></ul></li> <li><p><strong><code>mvn dependency:tree</code></strong></p> <ul><li>显示项目依赖树，帮助分析依赖关系和冲突。</li></ul></li> <li><p><strong><code>mvn clean install</code></strong></p> <ul><li>先清理项目再编译、测试、打包并安装到本地仓库。这是一个常用的组合命令。</li></ul></li></ol> <h3 id="使用说明"><a href="#使用说明" class="header-anchor">#</a> 使用说明</h3> <ul><li><p><strong>命令行执行</strong>：在项目的根目录下使用命令行执行这些命令，例如：</p> <div class="language-bash extra-class"><pre class="language-bash"><code>mvn clean package
</code></pre></div></li> <li><p><strong>组合使用</strong>：Maven 命令可以组合使用，以完成多个构建步骤。</p></li> <li><p><strong>插件支持</strong>：许多命令是通过 Maven 插件实现的，用户可以自定义或扩展这些功能。</p></li></ul> <h3 id="mvn-命令的本质"><a href="#mvn-命令的本质" class="header-anchor">#</a> <code>mvn</code> 命令的本质</h3> <p>我们使用 mvn 这个命令时，后面的参数是 phase，Maven 自动根据生命周期运行到指定的 phase。</p> <p>例如，运行 mvn clean package，Maven 先执行 clean 生命周期并运行到 clean 这个 phase，然后执行 default 生命周期并运行到 package 这个 phase，实际执行的 phase 如下：</p> <div class="language- extra-class"><pre class="language-text"><code>pre-clean
clean （注意这个clean是phase）
validate （开始执行default生命周期的第一个phase）
initialize
...
prepare-package
package
</code></pre></div><p>在实际开发过程中，经常使用的命令有：</p> <ul><li>mvn clean：清理所有生成的 class 和 jar；</li> <li>mvn clean compile：先清理，再执行到 compile；</li> <li>mvn clean test：先清理，再执行到 test，因为执行 test 前必须执行 compile，所以这里不必指定 compile；</li> <li>mvn clean package：先清理，再执行到 package。</li></ul> <p>大多数 phase 在执行过程中，因为我们通常没有在 pom.xml 中配置相关的设置，所以这些 phase 什么事情都不做。</p> <p>经常用到的 phase 其实只有几个：</p> <ul><li>clean：清理</li> <li>compile：编译</li> <li>test：运行测试</li> <li>package：打包</li></ul> <h3 id="使用插件"><a href="#使用插件" class="header-anchor">#</a> 使用插件</h3> <p>前面介绍了 Maven 的 lifecycle，phase 和 goal：使用 Maven 构建项目就是执行 lifecycle，执行到指定的 phase 为止。每个 phase 会执行自己默认的一个或多个 goal。goal 是最小任务单元。</p> <p>以<code>compile</code>这个 phase 为例，如果执行：</p> <div class="language- extra-class"><pre class="language-text"><code>mvn compile
</code></pre></div><p>Maven 将执行 compile 这个 phase，这个 phase 会调用 compiler 插件执行关联的 compiler:compile 这个 goal。</p> <p>实际上，执行每个 phase，都是通过某个插件（plugin）来执行的，Maven 本身其实并不知道如何执行 compile，它只是负责找到对应的 compiler 插件，然后执行默认的 compiler:compile 这个 goal 来完成编译。</p> <p>所以，使用 Maven，实际上就是配置好需要使用的插件，然后通过 phase 调用它们。</p> <p>Maven 已经内置了一些常用的标准插件，例如 maven-jar-plugin：</p> <table><thead><tr><th style="text-align:left;">插件名称</th> <th style="text-align:left;">对应执行的 phase</th></tr></thead> <tbody><tr><td style="text-align:left;">clean</td> <td style="text-align:left;">clean</td></tr> <tr><td style="text-align:left;">compiler</td> <td style="text-align:left;">compile</td></tr> <tr><td style="text-align:left;">surefire</td> <td style="text-align:left;">test</td></tr> <tr><td style="text-align:left;">jar</td> <td style="text-align:left;">package</td></tr></tbody></table> <p>如果标准插件无法满足需求，我们还可以使用自定义插件。使用自定义插件的时候，需要声明。例如，使用 maven-shade-plugin 可以创建一个可执行的 jar，要使用这个插件，需要在 pom.xml 中声明它：</p> <div class="language- extra-class"><pre class="language-text"><code>&lt;project&gt;
    ...
	&lt;build&gt;
		&lt;plugins&gt;
			&lt;plugin&gt;
				&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;
				&lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;
                &lt;version&gt;3.2.1&lt;/version&gt;
				&lt;executions&gt;
					&lt;execution&gt;
						&lt;phase&gt;package&lt;/phase&gt;
						&lt;goals&gt;
							&lt;goal&gt;shade&lt;/goal&gt;
						&lt;/goals&gt;
						&lt;configuration&gt;
                            ...插件配置...
						&lt;/configuration&gt;
					&lt;/execution&gt;
				&lt;/executions&gt;
			&lt;/plugin&gt;
		&lt;/plugins&gt;
	&lt;/build&gt;
&lt;/project&gt;
</code></pre></div><p>自定义插件往往需要一些配置，例如，maven-shade-plugin 需要指定 Java 程序的入口，它的配置是：</p> <div class="language- extra-class"><pre class="language-text"><code>&lt;configuration&gt;
    &lt;transformers&gt;
        &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;
            &lt;mainClass&gt;com.itranswarp.learnjava.Main&lt;/mainClass&gt;
        &lt;/transformer&gt;
    &lt;/transformers&gt;
&lt;/configuration&gt;
</code></pre></div><p>注意，Maven 自带的标准插件例如 compiler 是无需声明的，只有引入其它的插件才需要声明。</p> <p>下面列举了一些常用的插件：</p> <ul><li>maven-shade-plugin：打包所有依赖包并生成可执行 jar，<a href="https://www.cnblogs.com/wanghengbin/p/17927038.html" target="_blank" rel="noopener noreferrer">插件的实践介绍<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>；</li> <li>cobertura-maven-plugin：生成单元测试覆盖率报告；</li> <li>findbugs-maven-plugin：对 Java 源码进行静态分析以找出潜在问题。</li></ul> <h4 id="总结"><a href="#总结" class="header-anchor">#</a> 总结</h4> <p>Maven 通过自定义插件可以执行项目构建时需要的额外功能，使用自定义插件必须在 pom.xml 中声明插件及配置；</p> <p>插件会在某个 phase 被执行时执行；</p> <p>插件的配置和用法需参考插件的官方文档。</p> <h2 id="常见的关键问题-🌟"><a href="#常见的关键问题-🌟" class="header-anchor">#</a> 常见的关键问题 🌟</h2> <h3 id="maven-如何知道从何处下载所需的依赖-也就是相关的-jar-包"><a href="#maven-如何知道从何处下载所需的依赖-也就是相关的-jar-包" class="header-anchor">#</a> Maven 如何知道从何处下载所需的依赖？也就是相关的 jar 包？</h3> <p>Maven 维护了一个中央仓库（repo1.maven.org），所有第三方库将自身的 jar 以及相关信息上传至中央仓库，Maven 就可以从中央仓库把所需依赖下载到本地。</p> <p>Maven 并不会每次都从中央仓库下载 jar 包。一个 jar 包一旦被下载过，就会被 Maven 自动缓存在本地目录（用户主目录的.m2 目录），所以，除了第一次编译时因为下载需要时间会比较慢，后续过程因为有本地缓存，并不会重复下载相同的 jar 包。</p> <h4 id="maven-镜像"><a href="#maven-镜像" class="header-anchor">#</a> Maven 镜像</h4> <p>除了可以从 Maven 的中央仓库下载外，还可以从 Maven 的镜像仓库下载。如果访问 Maven 的中央仓库非常慢，我们可以选择一个速度较快的 Maven 的镜像仓库。Maven 镜像仓库定期从中央仓库同步。</p> <p>中国区用户可以使用阿里云提供的 Maven 镜像仓库。使用 Maven 镜像仓库需要一个配置，在用户主目录下进入.m2 目录，创建一个 settings.xml 配置文件，内容如下：</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>settings</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mirrors</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mirror</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span><span class="token punctuation">&gt;</span></span>aliyun<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>id</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>aliyun<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mirrorOf</span><span class="token punctuation">&gt;</span></span>central<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mirrorOf</span><span class="token punctuation">&gt;</span></span>
            <span class="token comment">&lt;!-- 国内推荐阿里云的Maven镜像 --&gt;</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url</span><span class="token punctuation">&gt;</span></span>https://maven.aliyun.com/repository/central<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mirror</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mirrors</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>settings</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="下载依赖的几种方式以及如何使用"><a href="#下载依赖的几种方式以及如何使用" class="header-anchor">#</a> 下载依赖的几种方式以及如何使用？</h3> <ul><li>中央仓库</li> <li>远程仓库</li> <li>本地仓库</li> <li>本地文件</li></ul> <h4 id="_1-中央仓库-central-repository"><a href="#_1-中央仓库-central-repository" class="header-anchor">#</a> 1. 中央仓库（Central Repository）</h4> <p>Maven 的中央仓库是一个公开的仓库，存放了大量的开源库。默认情况下，Maven 会从中央仓库下载项目依赖。</p> <p><strong>使用方式</strong>：</p> <ul><li>在 <code>pom.xml</code> 中声明依赖时，无需额外配置，Maven 会自动从中央仓库下载。</li></ul> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.apache.commons<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>commons-lang3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>3.12.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h4 id="_2-远程仓库-remote-repository"><a href="#_2-远程仓库-remote-repository" class="header-anchor">#</a> 2. 远程仓库（Remote Repository）</h4> <p>远程仓库可以是你自己的私有仓库或其他第三方仓库。如果依赖不在中央仓库中，可以配置远程仓库。</p> <p><strong>配置方式</strong>：</p> <ul><li>在 <code>pom.xml</code> 或 <code>settings.xml</code> 中添加仓库配置。</li></ul> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>repositories</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>repository</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span><span class="token punctuation">&gt;</span></span>my-private-repo<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>id</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url</span><span class="token punctuation">&gt;</span></span>http://repo.mycompany.com/maven2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>repository</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>repositories</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h4 id="_3-本地仓库-local-repository"><a href="#_3-本地仓库-local-repository" class="header-anchor">#</a> 3. 本地仓库（Local Repository）</h4> <p>本地仓库是存储在你设备上的一个目录，Maven 会首先在本地仓库中查找依赖。如果找不到，再从远程仓库下载。</p> <p><strong>位置</strong>：</p> <ul><li>默认路径为 <code>~/.m2/repository</code>。可以在 <code>settings.xml</code> 中通过 <code>&lt;localRepository&gt;</code> 标签自定义本地仓库路径。</li></ul> <p><strong>使用方式</strong>：</p> <ul><li>正常使用，无需特殊配置，Maven 会自动管理。</li></ul> <h4 id="_4-本地包-local-jar"><a href="#_4-本地包-local-jar" class="header-anchor">#</a> 4. 本地包（Local JAR）</h4> <p>有时，某些依赖可能没有在任何仓库中发布，需要手动安装到本地仓库。</p> <p><strong>使用方式</strong>：</p> <ul><li>使用 <code>mvn install:install-file</code> 命令手动安装。</li></ul> <div class="language-bash extra-class"><pre class="language-bash"><code>mvn install:install-file <span class="token parameter variable">-Dfile</span><span class="token operator">=</span>/path/to/your.jar <span class="token parameter variable">-DgroupId</span><span class="token operator">=</span>com.example <span class="token parameter variable">-DartifactId</span><span class="token operator">=</span>your-artifact <span class="token parameter variable">-Dversion</span><span class="token operator">=</span><span class="token number">1.0</span>.0 <span class="token parameter variable">-Dpackaging</span><span class="token operator">=</span>jar
</code></pre></div><h4 id="选择合适的方式"><a href="#选择合适的方式" class="header-anchor">#</a> 选择合适的方式</h4> <ul><li><strong>中央仓库</strong>：优先使用，简单直接。</li> <li><strong>远程仓库</strong>：当依赖不在中央仓库中，或需要使用私有库时使用。</li> <li><strong>本地仓库</strong>：自动管理，用户无需干预。</li> <li><strong>本地包</strong>：适用于没有发布在仓库中的内部库或临时使用的库。</li></ul> <h3 id="如何搜索第三方组件"><a href="#如何搜索第三方组件" class="header-anchor">#</a> 如何搜索第三方组件？</h3> <p>如果我们要引用一个第三方组件，比如 okhttp，如何确切地获得它的 groupId、artifactId 和 version？方法是通过 <a href="https://search.maven.org/" target="_blank" rel="noopener noreferrer">search.maven.org<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 搜索关键字，找到对应的组件后，直接复制信息。</p> <h3 id="什么是-jar-包"><a href="#什么是-jar-包" class="header-anchor">#</a> 什么是 jar 包？</h3> <p>在 Java 中，<code>JAR</code> 包（Java ARchive）是一种用于分发、部署和使用 Java 应用程序或库的压缩文件格式。它类似于 ZIP 文件，但专门用于 Java 环境。JAR 包通常包含 Java 类文件、资源（如图像、配置文件）和一个特殊的清单文件（<code>MANIFEST.MF</code>），用于指定包的元数据和配置信息。</p> <h4 id="jar-包的特点"><a href="#jar-包的特点" class="header-anchor">#</a> JAR 包的特点</h4> <ol><li><p><strong>压缩格式</strong>：JAR 包使用 ZIP 压缩格式，减少了文件大小，便于分发和传输。</p></li> <li><p><strong>跨平台</strong>：因为 Java 本身是跨平台的，JAR 包可以在任何支持 Java 的平台上运行。</p></li> <li><p><strong>包含多种资源</strong>：除了类文件外，JAR 包还可以包含图片、音频、文本等资源文件。</p></li> <li><p><strong>可执行 JAR</strong>：通过配置清单文件，JAR 可以被设定为可执行文件，允许直接通过 Java 命令运行整个应用程序。</p></li></ol> <h4 id="使用-jar-包"><a href="#使用-jar-包" class="header-anchor">#</a> 使用 JAR 包</h4> <ul><li><p><strong>创建 JAR 包</strong>：使用 Java 提供的 <code>jar</code> 工具可以创建 JAR 包。例如：</p> <div class="language-bash extra-class"><pre class="language-bash"><code>jar cf myapp.jar <span class="token parameter variable">-C</span> bin/ <span class="token builtin class-name">.</span>
</code></pre></div><p>上述命令将把 <code>bin</code> 目录下的所有文件打包成 <code>myapp.jar</code>。</p></li> <li><p><strong>运行 JAR 包</strong>：如果 JAR 包是可执行的，可以直接运行：</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">java</span> <span class="token parameter variable">-jar</span> myapp.jar
</code></pre></div></li> <li><p><strong>查看 JAR 包内容</strong>：可以使用 <code>jar</code> 工具查看 JAR 包的内容：</p> <div class="language-bash extra-class"><pre class="language-bash"><code>jar tf myapp.jar
</code></pre></div></li></ul> <p><code>jar</code> 命令是 Java 开发工具包（JDK）中的一个实用工具，用于创建、管理和解压 JAR 文件（Java ARchive）。JAR 文件是用于打包多个文件（如类文件和资源）以便分发的压缩文件格式。以下是 <code>jar</code> 命令的详细介绍：</p> <h4 id="jar-命令基本语法"><a href="#jar-命令基本语法" class="header-anchor">#</a> jar 命令基本语法</h4> <div class="language-bash extra-class"><pre class="language-bash"><code>jar <span class="token punctuation">[</span>options<span class="token punctuation">]</span> <span class="token punctuation">[</span>jar-file<span class="token punctuation">]</span> <span class="token punctuation">[</span>manifest-file<span class="token punctuation">]</span> <span class="token punctuation">[</span>entry-point<span class="token punctuation">]</span> <span class="token punctuation">[</span>-C dir<span class="token punctuation">]</span> files
</code></pre></div><h5 id="常用选项"><a href="#常用选项" class="header-anchor">#</a> 常用选项</h5> <ul><li><strong><code>c</code></strong>：创建一个新的 JAR 文件。</li> <li><strong><code>x</code></strong>：从现有 JAR 文件中解压文件。</li> <li><strong><code>t</code></strong>：列出 JAR 文件的内容。</li> <li><strong><code>u</code></strong>：更新现有的 JAR 文件。</li> <li><strong><code>f</code></strong>：指定 JAR 文件名（该选项通常与 <code>c</code>、<code>x</code>、<code>t</code>、<code>u</code> 结合使用）。</li> <li><strong><code>v</code></strong>：生成详细输出，显示详细信息。</li> <li><strong><code>m</code></strong>：包含清单文件。</li> <li><strong><code>e</code></strong>：指定 JAR 文件的入口点（用于执行 JAR 文件时）。</li> <li><strong><code>C</code></strong>：切换目录并添加文件。</li></ul> <h5 id="常用命令示例"><a href="#常用命令示例" class="header-anchor">#</a> 常用命令示例</h5> <ol><li><p><strong>创建 JAR 文件</strong></p> <p>将当前目录 (<code>.</code>) 下的所有文件打包成 <code>myapp.jar</code>：</p> <div class="language-bash extra-class"><pre class="language-bash"><code>jar cf myapp.jar <span class="token builtin class-name">.</span>
</code></pre></div></li> <li><p><strong>创建带清单文件的 JAR 文件</strong></p> <p>使用自定义清单文件 <code>manifest.mf</code> 打包：</p> <div class="language-bash extra-class"><pre class="language-bash"><code>jar cmf manifest.mf myapp.jar <span class="token builtin class-name">.</span>
</code></pre></div></li> <li><p><strong>查看 JAR 文件内容</strong></p> <p>列出 <code>myapp.jar</code> 的内容：</p> <div class="language-bash extra-class"><pre class="language-bash"><code>jar tf myapp.jar
</code></pre></div></li> <li><p><strong>解压 JAR 文件</strong></p> <p>将 <code>myapp.jar</code> 解压到当前目录：</p> <div class="language-bash extra-class"><pre class="language-bash"><code>jar xf myapp.jar
</code></pre></div></li> <li><p><strong>更新 JAR 文件</strong></p> <p>更新 <code>myapp.jar</code> 中的文件：</p> <div class="language-bash extra-class"><pre class="language-bash"><code>jar uf myapp.jar updatedFile.class
</code></pre></div></li> <li><p><strong>指定入口点创建可执行 JAR</strong></p> <p>创建一个可执行的 JAR 文件，入口点为 <code>com.example.Main</code>：</p> <div class="language-bash extra-class"><pre class="language-bash"><code>jar cfe myapp.jar com.example.Main <span class="token parameter variable">-C</span> classes <span class="token builtin class-name">.</span>
</code></pre></div></li></ol> <h5 id="注意事项"><a href="#注意事项" class="header-anchor">#</a> 注意事项</h5> <ul><li><p><strong>清单文件</strong>：清单文件 (<code>MANIFEST.MF</code>) 包含关于 JAR 文件的信息，如版本号、入口点等。可以通过 <code>m</code> 选项指定自定义清单文件。</p></li> <li><p><strong>路径问题</strong>：使用 <code>-C</code> 选项可以在打包时切换目录，这有助于保持包结构。</p></li> <li><p><strong>入口点</strong>：使用 <code>e</code> 选项可以指定可执行 JAR 的入口点类，这样可以直接运行 JAR 文件。</p></li></ul></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/qiqihaobenben/Front-End-Basics/edit/master/docs/java/maven-basic.md" target="_blank" rel="noopener noreferrer">在 GitHub 上编辑此页</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">11/25/2024, 6:28:15 PM</span></div></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.f0c3bf6e.js" defer></script><script src="/assets/js/2.267df354.js" defer></script><script src="/assets/js/1.66cc43cf.js" defer></script><script src="/assets/js/175.62da2bad.js" defer></script>
  </body>
</html>
